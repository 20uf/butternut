!function(a,b){typeof exports==='object'&&typeof module!=='undefined'?module.exports=b():typeof define==='function'&&define.amd?define(b):(function(){var c=a.Ractive,d=b();d.noConflict=function(){a.Ractive=c;return d};return a.Ractive=d})()}(this,function(){'use strict';var g={el:void 0,append:!1,template:null,delimiters:['{{','}}'],tripleDelimiters:['{{{','}}}'],staticDelimiters:['[[',']]'],staticTripleDelimiters:['[[[',']]]'],csp:!0,interpolate:!1,preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,css:null,noCssTransform:!1},h={linear:function(a){return a},easeIn:function(a){return Math.pow(a,3)},easeOut:function(a){return Math.pow((a-1),3)+1},easeInOut:function(a){if((a/=0.5)<1){return 0.5*Math.pow(a,3)}return 0.5*(Math.pow((a-2),3)+2)}},i=typeof window!=='undefined'?window:null,j=i?document:null,l=!!j,q=typeof console!=='undefined'&&typeof console.warn==='function'&&typeof console.warn.apply==='function',u;try{Object.defineProperty({},'test',{value:0}),u=!0}catch(a){u=!1};var w=j?j.implementation.hasFeature('http://www.w3.org/TR/SVG11/feature#BasicStructure','1.1'):!1,z=['o','ms','moz','webkit'];function A(){}var B;i?(B={},Date.now||(Date.now=function(){return+new Date()}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+/,'').replace(/\s+$/,'')}),Object.create||(Object.create=(function(){var a=function(){};return function(b,c){if(typeof b!=='object'){throw new TypeError( 'Prototype must be an object' )}a.prototype=b;var d=new a();Z(d,c);a.prototype=null;return d}})()),Object.defineProperty||(Object.defineProperty=Y),Object.freeze||(Object.freeze=function(){'LOL'}),Object.keys||(Object.keys=function(){var a=Object.prototype.hasOwnProperty,b=!({toString:null}).propertyIsEnumerable('toString'),c=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','constructor'],d=c.length;return function(e){if(typeof e!=='object'&&typeof e!=='function'||e===null){throw new TypeError( 'Object.keys called on non-object' )}var f=[];for(var g in e){a.call(e,g)&&f.push(g)}if(b){for(var h=0;h<d;h++){a.call(e,c[h])&&f.push(c[h])}}return f}}()),Array.prototype.indexOf||(Array.prototype.indexOf=function(a,b){var c=this,d;b===undefined&&(b=0);b<0&&(b+=this.length);b<0&&(b=0);for(d=c.length;b<d;b++){if(c.hasOwnProperty(b)&&c[b]===a){return b}}return-1}),Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c=this,d,e;for(d=0, e=c.length;d<e;d+=1){c.hasOwnProperty(d)&&a.call(b,c[d],d,c)}}),Array.prototype.map||(Array.prototype.map=function(a,b){var c=this,d,e,f=[],g;c instanceof String&&(c=c.toString(),g=!0);for(d=0, e=c.length;d<e;d+=1){(c.hasOwnProperty(d)||g)&&(f[d]=a.call(b,c[d],d,c))}return f}),typeof Array.prototype.reduce!=='function'&&(Array.prototype.reduce=function(a,b){var c=this,d,e,f,g;if('function'!==typeof a){throw new TypeError(a+' is not a function')}f=this.length;g=!1;arguments.length>1&&(e=b,g=!0);for(d=0;d<f;d+=1){c.hasOwnProperty(d)?(g&&(e=a(e,c[d],d,c))):(e=c[d],g=!0)}if(!g){throw new TypeError( 'Reduce of empty array with no initial value' )}return e}),Array.prototype.filter||(Array.prototype.filter=function(a,b){var c=this,d,e,f=[];for(d=0, e=c.length;d<e;d+=1){c.hasOwnProperty(d)&&a.call(b,c[d],d,c)&&(f[f.length]=c[d])}return f}),Array.prototype.every||(Array.prototype.every=function(a,b){var c,d,e;if(this==null){throw new TypeError()}c=Object(this);d=c.length>>>0;if(typeof a!=='function'){throw new TypeError()}for(e=0;e<d;e+=1){if(e in c&&!a.call(b,c[e],e,c)){return !1}}return !0}),typeof Function.prototype.bind!=='function'&&(Function.prototype.bind=function(a){var b,c,d,e,f=[].slice;if(typeof this!=='function'){throw new TypeError( 'Function.prototype.bind called on non-function' )}b=f.call(arguments,1);c=this;d=function(){};e=function(){var e=this instanceof d&&a?this:a;return c.apply(e,b.concat(f.call(arguments)))};d.prototype=this.prototype;e.prototype=new d();return e}),i.addEventListener||((function(a,b){var c,d,f,g,h,i;a.appearsToBeIELessEqual8=!0;c=function(a,b){var c,d=this;for(c in a)d[c]=a[c];d.currentTarget=b;d.target=a.srcElement||b;d.timeStamp=+new Date();d.preventDefault=function(){a.returnValue=!1};d.stopPropagation=function(){a.cancelBubble=!0}};d=function(a,b){var d=this,f,g;f=d.listeners||(d.listeners=[]);g=f.length;f[g]=[b,function(a){b.call(d,new c( a, d ))}];d.attachEvent('on'+a,f[g][1])};f=function(a,b){var c=this,d,e;if(!c.listeners){return}d=c.listeners;e=d.length;while(e--){d[e][0]===b&&c.detachEvent('on'+a,d[e][1])}};a.addEventListener=b.addEventListener=d;a.removeEventListener=b.removeEventListener=f;'Element' in a?(a.Element.prototype.addEventListener=d,a.Element.prototype.removeEventListener=f):(i=b.createElement,b.createElement=function(a){var b=i(a);b.addEventListener=d;b.removeEventListener=f;return b},g=b.getElementsByTagName('head')[0],h=b.createElement('style'),g.insertBefore(h,g.firstChild))})(i,j)),i.getComputedStyle||(B.getComputedStyle=function(){var a={};function b(a,d,e,f){var g=d[e],h=parseFloat(g),i=g.split(/\d/)[0];isNaN(h)&&(/^thin|medium|thick$/.test(g)&&(h=c(g),i=''));f=f!=null?f:/%|em/.test(i)&&a.parentElement?b(a.parentElement,a.parentElement.currentStyle,'fontSize',null):16;var j=e=='fontSize'?f:/width/i.test(e)?a.clientWidth:a.clientHeight;returni=='em'?h*f:i=='in'?h*96:i=='pt'?h*96/72:i=='%'?h/100*j:h}function c(b){var c,d;a[b]||(c=j.createElement('div'),c.style.display='block',c.style.position='fixed',c.style.width=c.style.height='0',c.style.borderRight=b+' solid black',j.getElementsByTagName('body')[0].appendChild(c),d=c.getBoundingClientRect(),a[b]=d.right-d.left);return a[b]}function d(a,b){var c=b=='border'?'Width':'',d=""+b+"Top"+c,e=""+b+"Right"+c,f=""+b+"Bottom"+c,g=""+b+"Left"+c;a[b]=(a[d]==a[e]==a[f]==a[g]?[a[d]]:a[d]==a[f]&&a[g]==a[e]?[a[d],a[e]]:a[g]==a[e]?[a[d],a[e],a[f]]:[a[d],a[e],a[f],a[g]]).join(' ')}var e={fontWeight:400,lineHeight:1.2,letterSpacing:0};function f(a){var c,f,g,h;c=a.currentStyle;f=this;g=b(a,c,'fontSize',null);for(h in c){c[h]==='normal'&&e.hasOwnProperty(h)?(f[h]=e[h]):/width|height|margin.|padding.|border.+W/.test(h)?(c[h]==='auto'?(/^width|height/.test(h)?(f[h]=(h==='width'?a.clientWidth:a.clientHeight)+'px'):/(?:padding)?Top|Bottom$/.test(h)&&(f[h]='0px')):(f[h]=b(a,c,h,g)+'px')):h==='styleFloat'?(f.float=c[h]):(f[h]=c[h])}d(f,'margin');d(f,'padding');d(f,'border');f.fontSize=g+'px';return f}f.prototype={constructor:f,getPropertyPriority:A,getPropertyValue:function(a){return this[a]||''},item:A,removeProperty:A,setProperty:A,getPropertyCSSValue:A};function g(a){return new f(a)}return g}())):(B=null);var C=B,D='http://www.w3.org/1999/xhtml',E='http://www.w3.org/1998/Math/MathML',F='http://www.w3.org/2000/svg',G='http://www.w3.org/1999/xlink',H='http://www.w3.org/XML/1998/namespace',I='http://www.w3.org/2000/xmlns',J={html:D,mathml:E,svg:F,xlink:G,xml:H,xmlns:I},K,L,M,N,O,P,Q,R,S;w?(K=function(a,b,c){if(!b||b===D){return c?j.createElement(a,c):j.createElement(a)}return c?j.createElementNS(b,a,c):j.createElementNS(b,a)}):(K=function(a,b,c){if(b&&b!==D){throw 'This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you\'re trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information'}return c?j.createElement(a,c):j.createElement(a)});function T(){return j.createDocumentFragment()}function U(a){var b;if(!a||typeof a==='boolean'){return}if(!i||!j||!a){return null}if(a.nodeType){return a}if(typeof a==='string'){b=j.getElementById(a);!b&&j.querySelector&&(b=j.querySelector(a));if(b&&b.nodeType){return b}}if(a[0]&&a[0].nodeType){return a[0]}return null}if(!l)L=null;else{M=K('div');N=['matches','matchesSelector'];S=function(a){return function(b,c){return b[a](c)}};Q=N.length;while(Q--&&!L){O=N[Q];if(M[O])L=S(O);else{R=z.length;while(R--){P=z[Q]+O.substr(0,1).toUpperCase()+O.substring(1);if(M[P]){L=S(P);break}}}}L||(L=function(a,b){var c,d,e;d=a.parentNode;d||(M.innerHTML='',d=M,a=a.cloneNode(),M.appendChild(a));c=d.querySelectorAll(b);e=c.length;while(e--){if(c[e]===a){return !0}}return !1})}function V(a){a&&typeof a.parentNode!=='unknown'&&a.parentNode&&a.parentNode.removeChild(a);return a}function W(a){returna==null||!a.toString?'':''+a}var X,Y,Z;try{Object.defineProperty({},'test',{get:function(){},set:function(){}}),j&&Object.defineProperty(K('div'),'test',{value:0}),Y=Object.defineProperty}catch(a){Y=function(a,b,c){a[b]=c.value}};try{try{Object.defineProperties({},{test:{value:0}})}catch(a){throw a};j&&Object.defineProperties(K('div'),{test:{value:0}});Z=Object.defineProperties}catch(a){Z=function(a,b){var c;for(c in b){b.hasOwnProperty(c)&&Y(a,c,b[c])}}};try{Object.create(null),X=Object.create}catch(a){X=function(){var a=function(){};return function(b,c){var d;if(b===null){return{}}a.prototype=b;d=new a();c&&Object.defineProperties(d,c);return d}}()};function _(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];var d;b.forEach(function(b){for(d in b){aa.call(b,d)&&(a[d]=b[d])}});return a}function $(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];b.forEach(function(b){for(var c in b){aa.call(b,c)&&!(c in a)&&(a[c]=b[c])}});return a}var aa=Object.prototype.hasOwnProperty,ab=Object.prototype.toString;function ac(a){return ab.call(a)==='[object Array]'}function ad(a,b){if(a===null&&b===null){return !0}if(typeof a==='object'||typeof b==='object'){return !1}return a===b}function ae(a){return!isNaN(parseFloat(a))&&isFinite(a)}function af(a){return a&&ab.call(a)==='[object Object]'}var ag={},ah,ai,aj;if(q){var ak=["%cRactive.js %c0.8.0-edge %cin debug mode, %cmore...",'color: rgb(114, 157, 52); font-weight: normal;','color: rgb(85, 85, 85); font-weight: normal;','color: rgb(85, 85, 85); font-weight: normal;','color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;'],al="You're running Ractive 0.8.0-edge in debug mode - messages will be printed to the console to help you fix problems and optimise your application.\n\nTo disable debug mode, add this line at the start of your app:\n  Ractive.DEBUG = false;\n\nTo disable debug mode when your app is minified, add this snippet:\n  Ractive.DEBUG = /unminified/.test(function(){/*unminified*/});\n\nGet help and support:\n  http://docs.ractivejs.org\n  http://stackoverflow.com/questions/tagged/ractivejs\n  http://groups.google.com/forum/#!forum/ractive-js\n  http://twitter.com/ractivejs\n\nFound a bug? Raise an issue:\n  https://github.com/ractivejs/ractive/issues\n\n";aj=function(){var a=!!console.groupCollapsed;console[a?'groupCollapsed':'log'].apply(console,ak);console.log(al);a&&console.groupEnd(ak);aj=A};ai=function(a,b){aj();if(typeof b[b.length-1]==='object'){var c=b.pop(),d=c?c.ractive:null;if(d){var e;d.component&&(e=d.component.name)&&(a="<"+e+"> "+a);var f;(f=c.node||d.fragment&&d.fragment.rendered&&d.find('*'))&&b.push(f)}}console.warn.apply(console,['%cRactive.js: %c'+a,'color: rgb(114, 157, 52);','color: rgb(85, 85, 85);'].concat(b))};ah=function(){console.log.apply(console,arguments)}}else ai=ah=aj=A;function am(a,b){return a.replace(/%s/g,function(){return b.shift()})}function an(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];a=am(a,b);throw new Error( a )}function ao(){mP.DEBUG&&ah.apply(null,arguments)}function ap(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];a=am(a,b);ai(a,b)}function aq(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];a=am(a,b);if(ag[a]){return}ag[a]=!0;ai(a,b)}function ar(){mP.DEBUG&&ap.apply(null,arguments)}function as(){mP.DEBUG&&aq.apply(null,arguments)}var at='Bad arguments',au='A function was specified for "%s" %s, but no %s was returned',av=function(a,b){return "Missing \""+a+"\" "+b+" plugin. You may need to download a plugin via http://docs.ractivejs.org/latest/plugins#"+b+"s"};function aw(a,b,c){var d=ax(a,b,c);return d?d[a][c]:null}function ax(a,b,c){while(b){if(c in b[a]){return b}if(b.isolated){return null}b=b.parent}}function ay(a,b,c,d){if(a===b)return null;if(d){var e=aw('interpolators',c,d);if(e)return e(a,b)||null;an(av(d,'interpolator'))}return aA.number(a,b)||aA.array(a,b)||aA.object(a,b)||null}function az(a){return function(){return a}}var aA={number:function(a,b){var c;if(!ae(a)||!ae(b)){return null}a=+a;b=+b;c=b-a;if(!c){return function(){return a}}return function(b){return a+b*c}},array:function(a,b){var c,d,e,f;if(!ac(a)||!ac(b)){return null}c=[];d=[];f=e=Math.min(a.length,b.length);while(f--)d[f]=ay(a[f],b[f]);for(f=e;f<a.length;f+=1)c[f]=a[f];for(f=e;f<b.length;f+=1)c[f]=b[f];return function(a){var b=e;while(b--)c[b]=d[b](a);return c}},object:function(a,b){var c,d,e,f,g;if(!af(a)||!af(b)){return null}c=[];f={};e={};for(g in a){aa.call(a,g)&&(aa.call(b,g)?(c.push(g),e[g]=ay(a[g],b[g])||az(b[g])):(f[g]=a[g]))}for(g in b){aa.call(b,g)&&!aa.call(a,g)&&(f[g]=b[g])}d=c.length;return function(a){var b=d,g;while(b--){g=c[b],f[g]=e[g](a)}return f}}},aB=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g,aC=/([^\\](?:\\\\)*)\./,aD=/\\|\./g,aE=/((?:\\)+)\1|\\(\.)/g;function aF(a){if(typeof a==='string'){return a.replace(aD,'\\$&')}return a}function aG(a){return a?a.replace(aB,'.$1'):''}function aH(a){var b=[],c;a=aG(a);while(c=aC.exec(a)){var d=c.index+c[1].length;b.push(a.substr(0,d));a=a.substr(d+1)}b.push(a);return b}function aI(a){if(typeof a==='string'){return a.replace(aE,'$1$2')}return a}var aJ='Cannot add to a non-numeric value';function aK(a,b,c){if(typeof b!=='string'||!ae(c)){throw new Error( 'Bad arguments' )}var d;if(/\*/.test(b)){d={};a.viewmodel.findMatches(aH(b)).forEach(function(a){var b=a.get();if(!ae(b))throw new Error( aJ );d[a.getKeypath()]=b+c});return a.set(d)}var e=a.get(b);if(!ae(e)){throw new Error( aJ )}return a.set(b,+e+c)}function aL(a,b){return aK(this,a,(b===undefined?1:+b))}var aM={construct:{deprecated:'beforeInit',replacement:'onconstruct'},render:{deprecated:'init',message:"The \"init\" method has been deprecated and will likely be removed in a future release. You can either use the \"oninit\" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use \"onrender\" instead. See http://docs.ractivejs.org/latest/migrating for more information."},complete:{deprecated:'complete',replacement:'oncomplete'}},aN=function b(a){this.event=a;this.method='on'+a;this.deprecate=aM[a]};aN.prototype.call=function d(a,b,c){if(b[a]){c?b[a](c):b[a]();return !0}};aN.prototype.fire=function c(a,b){this.call(this.method,a,b);!a[this.method]&&this.deprecate&&this.call(this.deprecate.deprecated,a,b)&&(this.deprecate.message?ar(this.deprecate.message):ar('The method "%s" has been deprecated in favor of "%s" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.',this.deprecate.deprecated,this.deprecate.replacement));b?a.fire(this.event,b):a.fire(this.event)};function aO(a,b){var c=a.indexOf(b);c===-1&&a.push(b)}function aP(a,b){for(var c=0,d=a.length;c<d;c++){if(a[c]==b){return !0}}return !1}function aQ(a,b){var c;if(!ac(a)||!ac(b)){return !1}if(a.length!==b.length){return !1}c=a.length;while(c--){if(a[c]!==b[c]){return !1}}return !0}function aR(a){if(typeof a==='string'){return[a]}if(a===undefined){return[]}return a}function aS(a){return a[a.length-1]}function aT(a,b){if(!a){return}var c=a.indexOf(b);c!==-1&&a.splice(c,1)}function aU(a){var b=[],c=a.length;while(c--)b[c]=a[c];return b}var aV,aW={},aX={},aY={};typeof Promise==='function'?(aV=Promise):(aV=function(a){var b=[],c=[],d=aW,e,f,g,h,i,j;g=function(a){return function(g){if(d!==aW){return}e=g;d=a;f=a$((d===aX?b:c),e);a_(f)}};h=g(aX);i=g(aY);try{a(h,i)}catch(a){i(a)};j={then:function(a,e){var g=new aV( function(h,i){var j=function(a,b,c){typeof a==='function'?b.push(function(b){var c;try{c=a(b),ba(g,c,h,i)}catch(a){i(a)}}):b.push(c)};j(a,b,h);j(e,c,i);d!==aW&&a_(f)});return g}};j['catch']=function(a){return this.then(null,a)};return j},aV.all=function(a){return new aV( function(b,c){var d=[],e,f,g;if(!a.length){b(d);return}g=function(a,f){a&&typeof a.then==='function'?a.then(function(a){d[f]=a;--e||b(d)},c):(d[f]=a,--e||b(d))};e=f=a.length;while(f--)g(a[f],f)})},aV.resolve=function(a){return new aV( function(b){b(a)})},aV.reject=function(a){return new aV( function(b,c){c(a)})});var aZ=aV;function a_(a){setTimeout(a,0)}function a$(a,b){return function(){var c;while(c=a.shift())c(b)}}function ba(a,b,c,d){var f;if(b===a){throw new TypeError( 'A promise\'s fulfillment handler cannot return the same promise' )}if(b instanceof aV)b.then(c,d);else if(b&&(typeof b==='object'||typeof b==='function')){try{f=b.then}catch(a){d(a);return};if(typeof f==='function'){var g,h,i;h=function(b){if(g){return}g=!0;ba(a,b,c,d)};i=function(a){if(g){return}g=!0;d(a)};try{f.call(b,h,i)}catch(a){if(!g){d(a);g=!0;return}}}else c(b)}else c(b)}var bb=function c(a,b){this.callback=a;this.parent=b;this.intros=[];this.outros=[];this.children=[];this.totalChildren=this.outroChildren=0;this.detachQueue=[];this.outrosComplete=!1;b&&b.addChild(this)};bb.prototype.add=function b(a){var c=a.isIntro?this.intros:this.outros;c.push(a)};bb.prototype.addChild=function b(a){this.children.push(a);this.totalChildren+=1;this.outroChildren+=1};bb.prototype.decrementOutros=function a(){this.outroChildren-=1;be(this)};bb.prototype.decrementTotal=function a(){this.totalChildren-=1;be(this)};bb.prototype.detachNodes=function a(){this.detachQueue.forEach(bc);this.children.forEach(bd)};bb.prototype.remove=function b(a){var c=a.isIntro?this.intros:this.outros;aT(c,a);be(this)};bb.prototype.start=function a(){this.intros.concat(this.outros).forEach(function(a){return a.start()});this.ready=!0;be(this)};function bc(a){a.detach()}function bd(a){a.detachNodes()}function be(a){if(!a.ready||a.outros.length||a.outroChildren)return;a.outrosComplete||(a.parent&&!a.parent.outrosComplete?a.parent.decrementOutros(a):a.detachNodes(),a.outrosComplete=!0);!a.intros.length&&!a.totalChildren&&(typeof a.callback==='function'&&a.callback(),a.parent&&a.parent.decrementTotal())}var bf=new aN( 'change' ),bg,bh={start:function(a,b){var c,d;b&&(c=new aZ( function(a){return d=a} ));bg={previousBatch:bg,transitionManager:new bb( d, bg&&bg.transitionManager ),fragments:[],tasks:[],immediateObservers:[],deferredObservers:[],instance:a};return c},end:function(){bj();bg=bg.previousBatch},addFragment:function(a){aO(bg.fragments,a)},addObserver:function(a,b){aO(b?bg.deferredObservers:bg.immediateObservers,a)},registerTransition:function(a){a._manager=bg.transitionManager;bg.transitionManager.add(a)},detachWhenReady:function(a){bg.transitionManager.detachQueue.push(a)},scheduleTask:function(a,b){var c;if(!bg)a();else{c=bg;while(b&&c.previousBatch)c=c.previousBatch;c.tasks.push(a)}}};function bi(a){a.dispatch()}function bj(){var a=bg.immediateObservers;bg.immediateObservers=[];a.forEach(bi);var b=bg.fragments.length,c;a=bg.fragments;bg.fragments=[];while(b--){c=a[b];var d=c.ractive;bf.fire(d,d.viewmodel.changes);d.viewmodel.changes={};c.update()}bg.transitionManager.start();a=bg.deferredObservers;bg.deferredObservers=[];a.forEach(bi);var e=bg.tasks;bg.tasks=[];for(b=0;b<e.length;b+=1)e[b]();if(bg.fragments.length||bg.immediateObservers.length||bg.deferredObservers.length)return bj()}var bk=aZ.resolve();Y(bk,'stop',{value:A});var bl=h.linear;function bm(a,b){a=a||{};var c;a.easing&&(c=typeof a.easing==='function'?a.easing:b.easing[a.easing]);return{easing:c||bl,duration:'duration' in a?a.duration:400,complete:a.complete||A,step:a.step||A}}function bn(a,b,c){if(typeof a==='object'){var d=Object.keys(a);throw new Error( ("ractive.animate(...) no longer supports objects. Instead of ractive.animate({\n  "+d.map(function(b){return "'"+b+"': "+a[b]}).join('\n  ')+"\n}, {...}), do\n\n"+d.map(function(b){return "ractive.animate('"+b+"', "+a[b]+", {...});"}).join('\n')+"\n") )}c=bm(c,this);var e=this.viewmodel.joinAll(aH(a)),f=e.get();if(ad(f,b)){c.complete(c.to);return bk}var g=ay(f,b,this,c.interpolator);if(!g){bh.start();e.set(b);bh.end();return bk}return e.animate(f,b,c,g)}var bo=new aN( 'detach' );function bp(){if(this.isDetached){return this.el}this.el&&aT(this.el.__ractive_instances__,this);this.el=this.fragment.detach();this.isDetached=!0;bo.fire(this);return this.el}function bq(a){if(!this.el)throw new Error( ("Cannot call ractive.find('"+a+"') unless instance is rendered to the DOM") );return this.fragment.find(a)}function br(a,b){if(a.compareDocumentPosition){var c=a.compareDocumentPosition(b);returnc&2?1:-1}return bs(a,b)}function bs(a,b){var c=bu(a.component||a._ractive.proxy),d=bu(b.component||b._ractive.proxy),e=aS(c),f=aS(d),g;while(e&&e===f){c.pop(),d.pop(),g=e,e=aS(c),f=aS(d)}e=e.component||e;f=f.component||f;var h=e.parentFragment,i=f.parentFragment;if(h===i){var j=h.items.indexOf(e),k=i.items.indexOf(f);returnj-k||c.length-d.length}var l=g.iterations;if(l){var m=l.indexOf(h),n=l.indexOf(i);returnm-n||c.length-d.length}throw new Error( 'An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/ractivejs/ractive/issues - thanks!' )}function bt(a){var b=a.parentFragment;if(b)return b.owner;if(a.component&&(b=a.component.parentFragment)){return b.owner}}function bu(a){var b=[a],c=bt(a);while(c){b.push(c),c=bt(c)}return b}var bv=function e(a,b,c,d){this.ractive=a;this.selector=b;this.live=c;this.isComponentQuery=d;this.result=[];this.dirty=!0};bv.prototype.add=function b(a){this.result.push(a);this.makeDirty()};bv.prototype.cancel=function a(){var b=this._root[this.isComponentQuery?'liveComponentQueries':'liveQueries'],c=this.selector,d=b.indexOf(c);d!==-1&&(b.splice(d,1),b[c]=null)};bv.prototype.init=function a(){this.dirty=!1};bv.prototype.makeDirty=function a(){var b=this;this.dirty||(this.dirty=!0,bh.scheduleTask(function(){return b.update()}))};bv.prototype.remove=function b(a){var c=this.result.indexOf(this.isComponentQuery?a.instance:a);c!==-1&&this.result.splice(c,1)};bv.prototype.update=function a(){this.result.sort(this.isComponentQuery?bs:br);this.dirty=!1};bv.prototype.test=function b(a){return this.isComponentQuery?!this.selector||a.name===this.selector:(a?L(a,this.selector):null)};function bw(a,b){if(!this.el)throw new Error( ("Cannot call ractive.findAll('"+a+"', ...) unless instance is rendered to the DOM") );b=b||{};var c=this._liveQueries,d=c[a];if(d){returnb&&b.live?d:d.slice()}d=new bv( this, a, !!b.live, !1 );d.live&&(c.push(a),c['_'+a]=d);this.fragment.findAll(a,d);d.init();return d.result}function bx(a,b){b=b||{};var c=this._liveComponentQueries,d=c[a];if(d){returnb&&b.live?d:d.slice()}d=new bv( this, a, !!b.live, !0 );d.live&&(c.push(a),c['_'+a]=d);this.fragment.findAllComponents(a,d);d.init();return d.result}function by(a){return this.fragment.findComponent(a)}function bz(a){if(this.container){if(this.container.component&&this.container.component.name===a){return this.container}else{return this.container.findContainer(a)}}return null}function bA(a){if(this.parent){if(this.parent.component&&this.parent.component.name===a){return this.parent}else{return this.parent.findParent(a)}}return null}function bB(a,b){a.event&&a._eventQueue.push(a.event);a.event=b}function bC(a){a._eventQueue.length?(a.event=a._eventQueue.pop()):(a.event=null)}var bD={};function bE(a){var b,c,d,e,f,g;b=aH(a);(c=bD[b.length])||(c=bF(b.length));f=[];d=function(a,c){return a?'*':b[c]};e=c.length;while(e--){g=c[e].map(d).join('.'),f.hasOwnProperty(g)||(f.push(g),f[g]=!0)}return f}function bF(a){var b='',c,d,e,f,g,h,i,j;if(!bD[a]){e=[];while(b.length<a)b+=1;c=parseInt(b,2);f=function(a){return a==='1'};for(g=0;g<=c;g+=1){d=g.toString(2);while(d.length<a)d='0'+d;j=[];i=d.length;for(h=0;h<i;h++)j.push(f(d[h]));e[g]=j}bD[a]=e}return bD[a]}var bG={};function bH(a,b,c){c===void 0&&(c={});if(!b){return}c.event?(c.event.name=b):(c.event={name:b,_noArg:!0});var d=bI(b);bJ(a,d,c.event,c.args,!0)}function bI(a){if(bG.hasOwnProperty(a)){return bG[a]}else{return bG[a]=bE(a)}}function bJ(a,b,c,d,e){e===void 0&&(e=!1);var f,g,h=!0;bB(a,c);for(g=b.length;g>=0;g--){f=a._subs[b[g]],f&&(h=bK(a,f,c,d)&&h)}bC(a);if(a.parent&&h){if(e&&a.component){var i=a.component.name+'.'+b[b.length-1];b=bI(i);c&&!c.component&&(c.component=a)}bJ(a.parent,b,c,d)}}function bK(a,b,c,d){var e=null,f=!1;c&&!c._noArg&&(d=[c].concat(d));b=b.slice();for(var g=0,h=b.length;g<h;g+=1){b[g].apply(a,d)===!1&&(f=!0)}c&&!c._noArg&&f&&(e=c.original)&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation());return!f}function bL(a){var b=[],c=arguments.length-1;while(c-->0)b[c]=arguments[c+1];bH(this,a,{args:b})}function bM(a){throw new Error( ("An index or key reference ("+a+") cannot have child properties") )}function bN(a,b){var c=a.findContext().root,d=aH(b),e=d[0],f,g,h;while(a){if(a.isIteration){if(e===a.parent.keyRef){d.length>1&&bM(e);return a.context.getKeyModel()}if(e===a.parent.indexRef){d.length>1&&bM(e);return a.context.getIndexModel(a.index)}}if(((h=a.owner.aliases)||(h=a.aliases))&&h.hasOwnProperty(e)){var i=h[e];if(d.length===1)return i;else if(typeof i.joinAll==='function'){return i.joinAll(d.slice(1))}}if(a.context){(!a.isRoot||a.ractive.component)&&(f=!0);if(a.context.has(e)){g&&c.map(e,a.context.joinKey(e));return a.context.joinAll(d)}}a.componentParent&&!a.ractive.isolated?(a=a.componentParent,g=!0):(a=a.parent)}if(!f){return c.joinAll(d)}}var bO=[],bP;function bQ(){bO.push(bP=[])}function bR(){var a=bO.pop();bP=bO[bO.length-1];return a}function bS(a){bP&&bP.push(a)}function bT(a){a.bind()}function bU(a){a.cancel()}function bV(a){a.handleChange()}function bW(a){a.mark()}function bX(a){a.render()}function bY(a){a.rebind()}function bZ(a){a.teardown()}function b_(a){a.unbind()}function b$(a){a.unrender()}function ca(a){a.unrender(!0)}function cb(a){a.update()}function cc(a){return a.toString()}function cd(a){return a.toString(!0)}var ce;i?(!function(a,b,c){var d,e;if(c.requestAnimationFrame){return}for(d=0;d<a.length&&!c.requestAnimationFrame;++d)c.requestAnimationFrame=c[a[d]+'RequestAnimationFrame'];c.requestAnimationFrame||(e=c.setTimeout,c.requestAnimationFrame=function(a){var c,d,f;c=Date.now();d=Math.max(0,16-(c-b));f=e(function(){a(c+d)},d);b=c+d;return f})}(z,0,i),ce=i.requestAnimationFrame):(ce=null);var cf=ce,cg=i&&i.performance&&typeof i.performance.now==='function'?function(){return i.performance.now()}:function(){return Date.now()},ch=[],ci=!1;function cj(){bh.start();var a=cg(),b,c;for(b=0;b<ch.length;b+=1){c=ch[b],c.tick(a)||ch.splice(b--,1)}bh.end();ch.length?cf(cj):(ci=!1)}var ck=function b(a){this.duration=a.duration;this.step=a.step;this.complete=a.complete;this.easing=a.easing;this.start=cg();this.end=this.start+this.duration;this.running=!0;ch.push(this);ci||cf(cj)};ck.prototype.tick=function b(a){if(!this.running)return !1;if(a>this.end){this.step&&this.step(1);this.complete&&this.complete(1);return !1}var c=a-this.start,d=this.easing(c/this.duration);this.step&&this.step(d);return !0};ck.prototype.stop=function a(){this.abort&&this.abort();this.running=!1};var cl={};function cm(a,b){var c={},d;if(!b){return a}b+='.';for(d in a){a.hasOwnProperty(d)&&(c[b+d]=a[d])}return c}function cn(a){var b;cl[a]||(b=a?a+'.':'',cl[a]=function(c,d){var e;if(typeof c==='string'){e={};e[b+c]=d;return e}if(typeof c==='object'){return b?cm(c,a):c}});return cl[a]}var co=function b(a){this.value=a;this.isReadonly=!0;this.dependants=[]};co.prototype.get=function a(){return aI(this.value)};co.prototype.getKeypath=function a(){return aI(this.value)};co.prototype.rebind=function b(a){this.value=a;this.dependants.forEach(bV)};co.prototype.register=function b(a){this.dependants.push(a)};co.prototype.unregister=function b(a){aT(this.dependants,a)};var cp=function c(a,b){this.parent=a;this.ractive=b;this.value=b?a.getKeypath(b):a.getKeypath();this.dependants=[];this.children=[]};cp.prototype.addChild=function b(a){this.children.push(a);a.owner=this};cp.prototype.get=function a(){return this.value};cp.prototype.getKeypath=function a(){return this.value};cp.prototype.handleChange=function a(){this.value=this.ractive?this.parent.getKeypath(this.ractive):this.parent.getKeypath();this.ractive&&this.owner&&(this.ractive.viewmodel.keypathModels[this.owner.value]=this);this.children.forEach(bV);this.dependants.forEach(bV)};cp.prototype.register=function b(a){this.dependants.push(a)};cp.prototype.removeChild=function b(a){aT(this.children,a)};cp.prototype.teardown=function a(){this.owner&&this.owner.removeChild(this);this.children.forEach(bZ)};cp.prototype.unregister=function b(a){aT(this.dependants,a)};var cq=Object.prototype.hasOwnProperty;function cr(a){a.updateFromBindings(!0)}function cs(a){a.updateKeypathDependants()}var ct=null,cu=function c(a,b){this.deps=[];this.children=[];this.childByKey={};this.indexModels=[];this.unresolved=[];this.unresolvedByKey={};this.bindings=[];this.value=undefined;this.ticker=null;a&&(this.parent=a,this.root=a.root,this.key=aI(b),this.isReadonly=a.isReadonly,a.value&&(this.value=a.value[this.key],this.adapt()))};cu.prototype.adapt=function a(){var b=this,c=this.root.adaptors,d=c.length;if(d===0)return;var e=this.value,f=this.root.ractive,g=this.getKeypath();this.wrapper&&(this.wrapper.teardown(),this.wrapper=null);var h;for(h=0;h<d;h+=1){var i=c[h];if(i.filter(e,g,f)){b.wrapper=i.wrap(f,e,g,cn(g));b.wrapper.value=b.value;b.wrapper.__model=b;b.value=b.wrapper.get();break}}};cu.prototype.addUnresolved=function c(a,b){this.unresolvedByKey[a]||(this.unresolved.push(a),this.unresolvedByKey[a]=[]);this.unresolvedByKey[a].push(b)};cu.prototype.animate=function e(a,b,c,d){var f=this;this.ticker&&this.ticker.stop();var g,h=new aZ( function(a){return g=a} );this.ticker=new ck({duration:c.duration,easing:c.easing,step:function(a){var b=d(a);f.applyValue(b);c.step&&c.step(a,b)},complete:function(){f.applyValue(b);c.complete&&c.complete(b);f.ticker=null;g()}});h.stop=this.ticker.stop;return h};cu.prototype.applyValue=function b(a){if(ad(a,this.value))return;this.root.changes[this.getKeypath()]=a;if(this.parent.wrapper&&this.parent.wrapper.set)this.parent.wrapper.set(this.key,a),this.parent.value=this.parent.wrapper.get(),this.value=this.parent.value[this.key];else if(this.wrapper){var c=!this.wrapper.reset||this.wrapper.reset(a)===!1;if(c){this.wrapper.teardown();this.wrapper=null;var d=this.parent.value||this.parent.createBranch(this.key);d[this.key]=this.value=a;this.adapt()}else this.value=this.wrapper.get()}else{var e=this.parent.value||this.parent.createBranch(this.key);e[this.key]=a;this.value=a;this.adapt()}this.parent.clearUnresolveds();this.clearUnresolveds();var f=ct;ct=this;this.children.forEach(bW);this.deps.forEach(bV);var g=this.parent;while(g){g.deps.forEach(bV),g=g.parent}ct=f};cu.prototype.clearUnresolveds=function b(a){var c=this,d=this.unresolved.length;while(d--){var e=c.unresolved[d];if(a&&e!==a)continue;var f=c.unresolvedByKey[e],g=c.has(e),h=f.length;while(h--){g&&f[h].attemptResolution(),f[h].resolved&&f.splice(h,1)}f.length||(c.unresolved.splice(d,1),c.unresolvedByKey[e]=null)}};cu.prototype.createBranch=function b(a){var c=ae(a)?[]:{};this.set(c);return c};cu.prototype.findMatches=function b(a){var c=a.length,d=[this],e,f,g=function(){var b=a[f];b==='*'?(e=[],d.forEach(function(a){e.push.apply(e,a.getValueChildren(a.get()))})):(e=d.map(function(a){return a.joinKey(b)}));d=e};for(f=0;f<c;f+=1)g();return e};cu.prototype.get=function b(a){a&&bS(this);return this.value};cu.prototype.getIndexModel=function b(a){var c=this.parent.indexModels;if(typeof this.key==='string'&&a!==undefined){return new co( a )}else c[this.key]||(c[this.key]=new co( this.key ));return c[this.key]};cu.prototype.getKeyModel=function a(){return new co( aF(this.key) )};cu.prototype.getKeypathModel=function b(a){var c=this.getKeypath(),d=this.keypathModel||(this.keypathModel=new cp( this ));if(a&&a.component){var e=this.getKeypath(a);if(e!==c){var f=a.viewmodel.keypathModels||(a.viewmodel.keypathModels={}),g=f[c]||(f[c]=new cp( this, a ));d.addChild(g);return g}}return d};cu.prototype.getKeypath=function b(a){var c=this.parent.isRoot?aF(this.key):this.parent.getKeypath()+'.'+aF(this.key);if(a&&a.component){var d=a.viewmodel.mappings;for(var e in d){if(c.indexOf(d[e].getKeypath())>=0){c=c.replace(d[e].getKeypath(),e);break}}}return c};cu.prototype.getValueChildren=function b(a){var c=this,d;if(ac(a))d=[],ct&&ct.parent===this&&ct.key==='length'&&d.push(ct),a.forEach(function(a,b){d.push(c.joinKey(b))});else if(af(a)||typeof a==='function')d=Object.keys(a).map(function(a){return c.joinKey(a)});else if(a!=null){return[]}return d};cu.prototype.has=function b(a){var c=this.get();if(!c)return !1;a=aI(a);if(cq.call(c,a))return !0;var d=c.constructor;while(d!==Function&&d!==Array&&d!==Object){if(cq.call(d.prototype,a))return !0;d=d.constructor}return !1};cu.prototype.joinKey=function b(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var c=new cu( this, a );this.children.push(c);this.childByKey[a]=c}return this.childByKey[a]};cu.prototype.joinAll=function b(a){var c=this;for(var d=0;d<a.length;d+=1)c=c.joinKey(a[d]);return c};cu.prototype.mark=function a(){var b=this.retrieve();if(!ad(b,this.value)){var c=this.value;this.value=b;c!==b&&this.adapt();this.children.forEach(bW);this.deps.forEach(bV);this.clearUnresolveds()}};cu.prototype.merge=function c(a,b){var d=b?this.value.map(b):this.value,e=b?a.map(b):a,f=d.length,g={},h=0,i=d.map(function(a){var b,c=h;do {b=e.indexOf(a,c);if(b===-1){return-1}c=b+1}while(g[b]===!0&&c<f);b===h&&(h+=1);g[b]=!0;return b});this.parent.value[this.key]=a;this._merged=!0;this.shuffle(i)};cu.prototype.register=function b(a){this.deps.push(a)};cu.prototype.registerTwowayBinding=function b(a){this.bindings.push(a)};cu.prototype.retrieve=function a(){return this.parent.value?this.parent.value[this.key]:undefined};cu.prototype.set=function b(a){this.ticker&&this.ticker.stop();this.applyValue(a)};cu.prototype.shuffle=function b(a){var c=this,d=[];a.forEach(function(a,b){if(!~a)return;var e=c.indexModels[b];if(!e)return;d[a]=e;a!==b&&e.rebind(a)});this.indexModels=d;this.deps.forEach(function(b){b.shuffle&&b.shuffle(a)});this.updateKeypathDependants();this.mark();this.deps.forEach(function(a){a.shuffle||a.handleChange()})};cu.prototype.teardown=function a(){this.children.forEach(bZ);this.wrapper&&this.wrapper.teardown();if(this.keypathModels){for(var b in this.keypathModels)this.keypathModels[b].teardown()}};cu.prototype.unregister=function b(a){aT(this.deps,a)};cu.prototype.unregisterTwowayBinding=function b(a){aT(this.bindings,a)};cu.prototype.updateFromBindings=function b(a){var c=this,d=this.bindings.length;while(d--){var e=c.bindings[d].getValue();e!==c.value&&c.set(e)}a&&this.children.forEach(cr)};cu.prototype.updateKeypathDependants=function a(){this.children.forEach(cs);this.keypathModel&&this.keypathModel.handleChange()};var cv=function(a){function b(){a.call(this,null,'@global');this.value=typeof global!=='undefined'?global:window;this.isRoot=!0;this.root=this;this.adaptors=[];this.changes={}}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getKeypath=function a(){return'@global'};return b}(cu),cw=new cv();function cx(a,b){var c=a.findContext();if(b==='.'||b==='this')return c;if(b==='@keypath')return c.getKeypathModel(a.ractive);if(b==='@rootpath')return c.getKeypathModel();if(b==='@index'){var d=a.findRepeatingFragment();if(!d.isIteration)return;return d.context.getIndexModel(d.index)}if(b==='@key')return a.findRepeatingFragment().context.getKeyModel();if(b==='@ractive'){return a.ractive.viewmodel.getRactiveModel()}if(b==='@global'){return cw}if(b[0]==='~')return a.ractive.viewmodel.joinAll(aH(b.slice(2)));if(b[0]==='.'){var e=b.split('/');while(e[0]==='.'||e[0]==='..'){var f=e.shift();f==='..'&&(c=c.parent)}b=e.join('/');b[0]==='.'&&(b=b.slice(1));return c.joinAll(aH(b))}return bN(a,b)}function cy(a){if(!a)return this.viewmodel.get(!0);var b=aH(a),c=b[0],d;this.viewmodel.has(c)||(this.component&&!this.isolated&&(d=cx(this.component.parentFragment,c),d&&this.viewmodel.map(c,d)));d=this.viewmodel.joinAll(b);return d.get(!0)}var cz=new aN( 'insert' );function cA(a,b){if(!this.fragment.rendered){throw new Error( 'The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.' )}a=U(a);b=U(b)||null;if(!a){throw new Error( 'You must specify a valid target to insert into' )}a.insertBefore(this.detach(),b);this.el=a;(a.__ractive_instances__||(a.__ractive_instances__=[])).push(this);this.isDetached=!1;cB(this)}function cB(a){cz.fire(a);a.findAllComponents('*').forEach(function(a){cB(a.instance)})}function cC(a,b){if(b===a||(a+'.').indexOf(b+'.')===0||(b+'.').indexOf(a+'.')===0){throw new Error( 'A keypath cannot be linked to itself.' )}var c=bh.start(),d,e=this._links[b];if(e){if(e.source.model.str!==a||e.dest.model.str!==b)e.unlink(),delete this._links[b],this.viewmodel.joinAll(aH(b)).set(e.initialValue);else{bh.end();return c}}var f=aH(a);!this.viewmodel.has(f[0])&&this.component&&(d=cx(this.component.parentFragment,f[0]),d&&this.viewmodel.map(f[0],d));e=new cD( this.viewmodel.joinAll(f), this.viewmodel.joinAll(aH(b)), this );this._links[b]=e;e.source.handleChange();bh.end();return c}var cD=function d(a,b,c){this.source=new cE( a, this );this.dest=new cE( b, this );this.ractive=c;this.locked=!1;this.initialValue=b.get()};cD.prototype.sync=function b(a){this.locked||(this.locked=!0,a===this.dest?this.source.model.set(this.dest.model.get()):this.dest.model.set(this.source.model.get()),this.locked=!1)};cD.prototype.unlink=function a(){this.source.model.unregister(this.source);this.dest.model.unregister(this.dest)};var cE=function c(a,b){this.model=a;this.owner=b;a.register(this)};cE.prototype.handleChange=function a(){this.owner.sync(this)};var cF={};function cG(a){if(!a)return null;if(a===!0)return JSON.stringify;if(typeof a==='function')return a;if(typeof a==='string'){return cF[a]||(cF[a]=function(b){return b[a]})}throw new Error( 'If supplied, options.compare must be a string, function, or `true`' )}function cH(a,b,c){var d=this.viewmodel.joinAll(aH(a)),e=bh.start(this,!0),f=d.get();if(b===f){throw new Error( 'You cannot merge an array with itself' )}else if(!ac(f)||!ac(b)){throw new Error( 'You cannot merge an array with a non-array' )}var g=cG(c&&c.compare);d.merge(b,g);bh.end();return e}function cI(a,b,c){var d=this,e=[],f;if(af(a))f=a,c=b||{},Object.keys(f).forEach(function(a){var b=f[a];a.split(' ').forEach(function(a){e.push(cJ(d,a,b,c))})});else{var g;typeof a==='function'?(c=b,b=a,g=['']):(g=a.split(' '));g.forEach(function(a){e.push(cJ(d,a,b,c||{}))})}this._observers.push.apply(this._observers,e);return{cancel:function(){e.forEach(function(a){aT(d._observers,a);a.cancel()})}}}function cJ(a,b,c,d){var e=a.viewmodel,f=aH(b),g=f.indexOf('*');if(!~g){var h=f[0];if(h!==''&&!e.has(h)){if(a.component){var i=cx(a.component.parentFragment,h);i&&e.map(h,i)}}var j=e.joinAll(f);return new cK( a, j, c, d )}var k=g===0?e:e.joinAll(f.slice(0,g));return new cL( a, k, f.splice(g), c, d )}var cK=function e(a,b,c,d){this.context=d.context||a;this.model=b;this.keypath=b.getKeypath(a);this.callback=c;this.oldValue=undefined;this.newValue=b.get();this.defer=d.defer;this.once=d.once;this.strict=d.strict;this.dirty=!1;d.init!==!1?this.dispatch():(this.oldValue=this.newValue);b.register(this)};cK.prototype.cancel=function a(){this.model.unregister(this)};cK.prototype.dispatch=function a(){this.callback.call(this.context,this.newValue,this.oldValue,this.keypath);this.oldValue=this.newValue;this.dirty=!1};cK.prototype.handleChange=function a(){if(!this.dirty){this.newValue=this.model.get();if(this.strict&&this.newValue===this.oldValue)return;bh.addObserver(this,this.defer);this.dirty=!0;this.once&&this.cancel()}};var cL=function f(a,b,c,d,e){var g=this;this.context=e.context||a;this.ractive=a;this.baseModel=b;this.keys=c;this.callback=d;var h=c.join('\\.').replace(/\*/g,'(.+)'),i=b.getKeypath(a);this.pattern=new RegExp( ("^"+(i?i+'\\.':'')+""+h+"$") );this.oldValues={};this.newValues={};this.defer=e.defer;this.once=e.once;this.strict=e.strict;this.dirty=!1;var j=b.findMatches(this.keys);j.forEach(function(a){g.newValues[a.getKeypath(g.ractive)]=a.get()});e.init!==!1?this.dispatch():(this.oldValues=this.newValues);b.register(this)};cL.prototype.cancel=function a(){this.baseModel.unregister(this)};cL.prototype.dispatch=function a(){var b=this;Object.keys(this.newValues).forEach(function(a){if(b.newKeys&&!b.newKeys[a])return;var c=b.newValues[a],d=b.oldValues[a];if(b.strict&&c===d)return;if(ad(c,d))return;var e=[c,d,a];if(a){var f=b.pattern.exec(a).slice(1);e=e.concat(f)}b.callback.apply(b.context,e)});this.oldValues=this.newValues;this.newKeys=null;this.dirty=!1};cL.prototype.shuffle=function b(a){var c=this;if(!ac(this.baseModel.value))return;var d=this.baseModel.getKeypath(this.ractive),e=this.baseModel.value.length,f=this.keys.length>1?'.'+this.keys.slice(1).join('.'):'';this.newKeys={};for(var g=0;g<a.length;g++){if(a[g]===-1||a[g]===g)continue;c.newKeys[(""+d+"."+g+""+f)]=!0}for(var h=a.touchedFrom;h<e;h++)c.newKeys[(""+d+"."+h+""+f)]=!0};cL.prototype.handleChange=function a(){var b=this;this.dirty||(this.newValues={},this.baseModel.findMatches(this.keys).forEach(function(a){var c=a.getKeypath(b.ractive);b.newValues[c]=a.get()}),bh.addObserver(this,this.defer),this.dirty=!0,this.once&&this.cancel())};function cM(a,b,c){if(typeof a!=='string'){throw new Error( 'ractive.observeList() must be passed a string as its first argument' )}var d=this.viewmodel.joinAll(aH(a)),e=new cO( this, d, b, c||{} );this._observers.push(e);return{cancel:function(){e.cancel()}}}function cN(){return-1}var cO=function e(a,b,c,d){this.context=a;this.model=b;this.keypath=b.getKeypath();this.callback=c;this.pending=null;b.register(this);d.init!==!1?(this.sliced=[],this.shuffle([]),this.handleChange()):(this.sliced=this.slice())};cO.prototype.handleChange=function a(){this.pending?(this.callback(this.pending),this.pending=null):(this.shuffle(this.sliced.map(cN)),this.handleChange())};cO.prototype.shuffle=function b(a){var c=this,d=this.slice(),e=[],f=[],g,h={};a.forEach(function(a,b){h[a]=!0;a!==b&&g===undefined&&(g=b);a===-1&&f.push(c.sliced[b])});g===undefined&&(g=a.length);var i=d.length;for(var j=0;j<i;j+=1){h[j]||e.push(d[j])}this.pending={inserted:e,deleted:f,start:g};this.sliced=d};cO.prototype.slice=function a(){var b=this.model.get();return ac(b)?b.slice():[]};var cP={init:!1,once:!0};function cQ(a,b,c){if(af(a)||typeof a==='function'){c=_(b||{},cP);return this.observe(a,c)}c=_(c||{},cP);return this.observe(a,b,c)}function cR(a){return a.trim()};function cS(a){return a!==''};function cT(a,b){var c=this;if(!a){for(a in this._subs)delete this._subs[a]}else{var d=a.split(' ').map(cR).filter(cS);d.forEach(function(a){var d=c._subs[a];if(d){if(b){var e=d.indexOf(b);e!==-1&&d.splice(e,1)}else c._subs[a]=[]}})}return this}function cU(a,b){var c=this;if(typeof a==='object'){var d=[],e;for(e in a){a.hasOwnProperty(e)&&d.push(this.on(e,a[e]))}return{cancel:function(){var a;while(a=d.pop())a.cancel()}}}var f=a.split(' ').map(cR).filter(cS);f.forEach(function(a){(c._subs[a]||(c._subs[a]=[])).push(b)});return{cancel:function(){return c.off(a,b)}}}function cV(a,b){var c=this.on(a,function(){b.apply(this,arguments);c.cancel()});return c}function cW(a,b,c){var d,e=[],f,g,h,i;d=cX(a,b,c);if(!d){return null}h=d.length-2-d[1];f=Math.min(a,d[0]);g=f+d[1];for(i=0;i<f;i+=1)e.push(i);for(;i<g;i+=1)e.push(-1);for(;i<a;i+=1)e.push(i+h);h!==0?(e.touchedFrom=d[0]):(e.touchedFrom=a);return e}function cX(a,b,c){switch(b){case 'splice':c[0]!==undefined&&c[0]<0&&(c[0]=a+Math.max(c[0],-a));while(c.length<2)c.push(a-c[0]);c[1]=Math.min(c[1],a-c[0]);return c;case 'sort':;case 'reverse':return null;case 'pop':if(a){return[a-1,1]};return[0,0];case 'push':return[a,0].concat(c);case 'shift':return[0,a?1:0];case 'unshift':return[0,0].concat(c)}}var cY=Array.prototype;function cZ(a){return function(b){var c=[],d=arguments.length-1;while(d-->0)c[d]=arguments[d+1];var e=this.viewmodel.joinAll(aH(b)),f=e.get();if(!ac(f)){if(f===undefined){f=[];var g=cY[a].apply(f,c);return this.set(b,f).then(function(){return g})}else{throw new Error( ("shuffle array method "+a+" called on non-array at "+e.getKeypath()) )}}var h=cW(f.length,a,c),i=cY[a].apply(f,c),j=bh.start(this,!0).then(function(){return i});h?e.shuffle(h):e.set(i);bh.end();return j}}var c_=cZ('pop'),c$=cZ('push'),da='/* Ractive.js component styles */',db=[],dc=!1,dd=null,de=null;function df(a){db.push(a);dc=!0}function dg(){if(!j||!dc)return;de?(dd.styleSheet.cssText=dh(null)):(dd.innerHTML=dh(null));dc=!1}function dh(a){var b=a?db.filter(function(b){return~a.indexOf(b.id)}):db;return b.reduce(function(a,b){return ""+a+"\n\n/* {"+b.id+"} */\n"+b.styles},da)}j&&(!dd||!dd.parentNode)&&(dd=j.createElement('style'),dd.type='text/css',j.getElementsByTagName('head')[0].appendChild(dd),de=!!dd.styleSheet);var di=new aN( 'render' ),dj=new aN( 'complete' );function dk(a,b,c,d){var e=a.transitionsEnabled;a.noIntro&&(a.transitionsEnabled=!1);var f=bh.start(a,!0);bh.scheduleTask(function(){return di.fire(a)},!0);if(a.fragment.rendered){throw new Error( 'You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first' )}c=U(c)||a.anchor;a.el=b;a.anchor=c;a.cssId&&dg();if(b){(b.__ractive_instances__||(b.__ractive_instances__=[])).push(a);if(c){var g=j.createDocumentFragment();a.fragment.render(g);b.insertBefore(g,c)}else a.fragment.render(b,d)}bh.end();a.transitionsEnabled=e;return f.then(function(){return dj.fire(a)})}function dl(a,b){a=U(a)||this.el;if(!this.append&&a){var c=a.__ractive_instances__;c&&c.forEach(bZ);this.enhance||(a.innerHTML='')}var d=this.enhance?aU(a.childNodes):null,e=dk(this,a,b,d);if(d){while(d.length)a.removeChild(d.pop())}return e}var dm={extend:function(a,b,c){b.adapt=dn(b.adapt,aR(c.adapt))},init:function(){}};function dn(a,b){var c=a.slice(),d=b.length;while(d--){~c.indexOf(b[d])||c.push(b[d])}return c}var dp=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,dq=/\/\*.*?\*\//g,dr=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>~:]))+)((?:::?[^\s\+\>\~\(:]+(?:\([^\)]+\))?)*\s*[\s\+\>\~]?)\s*/g,ds=/^(?:@|\d+%)/,dt=/\[data-ractive-css~="\{[a-z0-9-]+\}"]/g;function du(a){return a.trim()}function dv(a){return a.str}function dw(a,b){var c=[],d;while(d=dr.exec(a))c.push({str:d[0],base:d[1],modifiers:d[2]});var e=c.map(dv),f=[],g=c.length;while(g--){var h=e.slice(),i=c[g];h[g]=i.base+b+i.modifiers||'';var j=e.slice();j[g]=b+' '+j[g];f.push(h.join(' '),j.join(' '))}return f.join(', ')}function dx(a,b){var c="[data-ractive-css~=\"{"+b+"}\"]",d;dt.test(a)?(d=a.replace(dt,c)):(d=a.replace(dq,'').replace(dp,function(a,b){if(ds.test(b))return a;var d=b.split(',').map(du),e=d.map(function(a){return dw(a,c)}).join(', ')+' ';return a.replace(b,e)}));return d}function dy(){return Math.floor((1+Math.random())*0x10000).toString(16).substring(1)}function dz(){return dy()+dy()+'-'+dy()+'-'+dy()+'-'+dy()+'-'+dy()+dy()+dy()}var dA={name:'css',extend:function(a,b,c){if(!c.css)return;var d=dz(),e=c.noCssTransform?c.css:dx(c.css,d);b.cssId=d;df({id:d,styles:e})},init:function(a,b,c){if(!c.css)return;ar("\nThe css option is currently not supported on a per-instance basis and will be discarded. Instead, we recommend instantiating from a component definition with a css option.\n\nconst Component = Ractive.extend({\n\t...\n\tcss: '/* your css */',\n\t...\n});\n\nconst componentInstance = new Component({ ... })\n\t\t")}};function dB(a,b){if(!/this/.test(a.toString()))return a;var c=a.bind(b);for(var d in a)c[d]=a[d];return c}function dC(a){a&&a.constructor!==Object&&(typeof a==='function'||(typeof a!=='object'?an(("data option must be an object or a function, `"+a+"` is not valid")):ar('If supplied, options.data should be a plain JavaScript object - using a non-POJO as the root object may work, but is discouraged')))}var dD={name:'data',extend:function(a,b,c){var d,e;if(c.data&&af(c.data)){for(d in c.data){e=c.data[d],e&&typeof e==='object'&&((af(e)||ac(e))&&ar("Passing a `data` option with object and array properties to Ractive.extend() is discouraged, as mutating them is likely to cause bugs. Consider using a data function instead:\n\n  // this...\n  data: function () {\n    return {\n      myObject: {}\n    };\n  })\n\n  // instead of this:\n  data: {\n    myObject: {}\n  }"))}}b.data=dE(b.data,c.data)},init:function(a,b,c){var d=dE(a.prototype.data,c.data);typeof d==='function'&&(d=d.call(b));if(d&&d.constructor===Object){for(var e in d){typeof d[e]==='function'&&(d[e]=dB(d[e],b))}}return d||{}},reset:function(a){var b=this.init(a.constructor,a,a.viewmodel);a.viewmodel.root.set(b);return !0}};function dE(a,b){dC(b);var c=typeof a==='function',d=typeof b==='function';!b&&!c&&(b={});if(!c&&!d){return dG(b,a)}return function(){var e=d?dF(b,this):b,f=c?dF(a,this):a;return dG(e,f)}}function dF(a,b){var c=a.call(b);if(!c)return;typeof c!=='object'&&an('Data function must return an object');c.constructor!==Object&&as('Data function returned something other than a plain JavaScript object. This might work, but is strongly discouraged');return c}function dG(a,b){if(a&&b){for(var c in b){(c in a)||(a[c]=b[c])}return a}return a||b}var dH=3,dI=/\$\{([^\}]+)\}/g;function dJ(a,b){b===void 0&&(b=0);var c=new Array( b );while(b--)c[b]="_"+b;return new Function( [], ("return function ("+c.join(',')+"){return("+a+");};") )()}function dK(a,b){var c,d='return ('+a.replace(dI,function(a,b){c=!0;return "__ractive.get(\""+b+"\")"})+');';c&&(d="var __ractive = this; "+d);var e=new Function( d );return c?e.bind(b):e}var dL=X(null);function dM(a,b){if(dL[a])return dL[a];return dL[a]=hL(a,b)}function dN(a){if(!a)return;var b=a.e;if(!b)return;Object.keys(b).forEach(function(a){if(dL[a])return;dL[a]=b[a]})}var dO,dP,dQ=/^\s+/;dP=function(a){this.name='ParseError';this.message=a;try{throw new Error(a)}catch(a){this.stack=a.stack}};dP.prototype=Error.prototype;dO=function(a,b){var c=this,d,e,f=0;this.str=a;this.options=b||{};this.pos=0;this.lines=this.str.split('\n');this.lineEnds=this.lines.map(function(a){var b=f+a.length+1;f=b;return b},0);this.init&&this.init(a,b);d=[];while(c.pos<c.str.length&&(e=c.read()))d.push(e);this.leftover=this.remaining();this.result=this.postProcess?this.postProcess(d,b):d};dO.prototype={read:function(a){var b=this,c,d,e,f;a||(a=this.converters);c=this.pos;e=a.length;for(d=0;d<e;d+=1){b.pos=c;if(f=a[d](b)){return f}}return null},getLinePos:function(a){var b=this,c=0,d=0,e;while(a>=b.lineEnds[c]){d=b.lineEnds[c],c+=1}e=a-d;return[c+1,e+1,a]},error:function(a){var b=this.getLinePos(this.pos),c=b[0],d=b[1],e=this.lines[b[0]-1],f=0,g=e.replace(/\t/g,function(a,c){c<b[1]&&(f+=1);return'  '})+'\n'+new Array( b[1]+f ).join(' ')+'^----',h=new dP( (""+a+" at line "+c+" character "+d+":\n"+g) );h.line=b[0];h.character=b[1];h.shortMessage=a;throw h},matchString:function(a){if(this.str.substr(this.pos,a.length)===a){this.pos+=a.length;return a}},matchPattern:function(a){var b;if(b=a.exec(this.remaining())){this.pos+=b[0].length;return b[1]||b[0]}},allowWhitespace:function(){this.matchPattern(dQ)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}};dO.extend=function(a){var b=this,c,d;c=function(a,b){dO.call(this,a,b)};c.prototype=X(b.prototype);for(d in a){aa.call(a,d)&&(c.prototype[d]=a[d])}c.extend=dO.extend;return c};var dR=dO,dS=1,dT=2,dU=3,dV=4,dW=5,dX=6,dY=7,dZ=8,d_=9,d$=10,ea=14,eb=15,ec=16,ed=17,ee=18,ef=19,eg=20,eh=21,ei=22,ej=23,ek=24,el=25,em=26,en=27,eo=30,ep=31,eq=32,er=33,es=34,et=35,eu=36,ev=40,ew=50,ex=51,ey=52,ez=53,eA=54,eB=60,eC=61,eD=/^[^\s=]+/,eE=/^\s+/;function eF(a){var b,c,d;if(!a.matchString('=')){return null}b=a.pos;a.allowWhitespace();c=a.matchPattern(eD);if(!c){a.pos=b;return null}if(!a.matchPattern(eE)){return null}d=a.matchPattern(eD);if(!d){a.pos=b;return null}a.allowWhitespace();if(!a.matchString('=')){a.pos=b;return null}return[c,d]}var eG=/^(\/(?:[^\n\r\u2028\u2029/\\[]|\\.|\[(?:[^\n\r\u2028\u2029\]\\]|\\.)*])+\/(?:([gimuy])(?![a-z]*\2))*(?![a-zA-Z_$0-9]))/;function eH(a){var b;if(b=a.matchPattern(eG)){return{t:el,v:b}}return null}var eI={t:d$,exclude:!0};function eJ(a){var b,c;if(a.interpolate[a.inside]===!1){return null}for(c=0;c<a.tags.length;c+=1){if(b=eK(a,a.tags[c])){return b}}}function eK(a,b){var c,d,e,f;c=a.pos;if(a.matchString('\\'+b.open)){if(c===0||a.str[c-1]!=='\\'){return b.open}}else if(!a.matchString(b.open)){return null}if(d=eF(a)){if(!a.matchString(b.close)){return null}b.open=d[0];b.close=d[1];a.sortMustacheTags();return eI}a.allowWhitespace();if(a.matchString('/')){a.pos-=1;var g=a.pos;eH(a)?(a.pos=g):(a.pos=g-b.close.length,a.error('Attempted to close a section that wasn\'t open'))}for(f=0;f<b.readers.length;f+=1){e=b.readers[f];if(d=e(a,b)){b.isStatic&&(d.s=!0);a.includeLinePositions&&(d.p=a.getLinePos(c));return d}}a.pos=c;return null}var eL='Expected a JavaScript expression',eM='Expected closing paren',eN=/^(?:[+-]?)0*(?:(?:(?:[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;function eO(a){var b;if(b=a.matchPattern(eN)){return{t:eg,v:b}}return null}function eP(a){var b=a.remaining();if(b.substr(0,4)==='true'){a.pos+=4;return{t:ek,v:'true'}}if(b.substr(0,5)==='false'){a.pos+=5;return{t:ek,v:'false'}}return null}var eQ,eR,eS;eQ=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/;eR=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/;eS=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/;function eT(a){return function(b){var c='"',d=!1,e;while(!d){e=b.matchPattern(eQ)||b.matchPattern(eR)||b.matchString(a),e?(e==="\""?(c+="\\\""):e==="\\'"?(c+="'"):(c+=e)):(e=b.matchPattern(eS),e?(c+='\\u'+('000'+e.charCodeAt(1).toString(16)).slice(-4)):(d=!0))}c+='"';return JSON.parse(c)}}var eU=eT("\""),eV=eT("'");function eW(a){var b,c;b=a.pos;if(a.matchString('"')){c=eV(a);if(!a.matchString('"')){a.pos=b;return null}return{t:eh,v:c}}if(a.matchString("'")){c=eU(a);if(!a.matchString("'")){a.pos=b;return null}return{t:eh,v:c}}return null}var eX=/^[a-zA-Z_$][a-zA-Z_$0-9]*/,eY=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;function eZ(a){var b;if(b=eW(a)){return eY.test(b.v)?b.v:'"'+b.v.replace(/"/g,'\\"')+'"'}if(b=eO(a)){return b.v}if(b=a.matchPattern(eX)){return b}return null}function e_(a){var b,c,d;b=a.pos;a.allowWhitespace();var e=a.nextChar()!=='\''&&a.nextChar()!=='"';c=eZ(a);if(c===null){a.pos=b;return null}a.allowWhitespace();if(e&&(a.nextChar()===','||a.nextChar()==='}')){eX.test(c)||a.error(("Expected a valid reference, but found '"+c+"' instead."));return{t:en,k:c,v:{t:eo,n:c}}}if(!a.matchString(':')){a.pos=b;return null}a.allowWhitespace();d=fw(a);if(d===null){a.pos=b;return null}return{t:en,k:c,v:d}}function e$(a){var b,c,d,e;b=a.pos;d=e_(a);if(d===null){return null}c=[d];if(a.matchString(',')){e=e$(a);if(!e){a.pos=b;return null}return c.concat(e)}return c}function fa(a){var b,c;b=a.pos;a.allowWhitespace();if(!a.matchString('{')){a.pos=b;return null}c=e$(a);a.allowWhitespace();if(!a.matchString('}')){a.pos=b;return null}return{t:ej,m:c}}function fb(a){a.allowWhitespace();var b=fw(a);if(b===null)return null;var c=[b];a.allowWhitespace();if(a.matchString(',')){var d=fb(a);d===null&&a.error(eL);c.push.apply(c,d)}return c}function fc(a){var b,c;b=a.pos;a.allowWhitespace();if(!a.matchString('[')){a.pos=b;return null}c=fb(a);if(!a.matchString(']')){a.pos=b;return null}return{t:ei,m:c}}function fd(a){return eO(a)||eP(a)||eW(a)||fa(a)||fc(a)||eH(a)}var fe=/^(?:~\/|(?:\.\.\/)+|\.\/(?:\.\.\/)*|\.)/,ff,fg;ff=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null|Object|Number|String|Boolean)\b/;fg=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/;var fh=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:\.(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,fi=/^[a-zA-Z_$][-\/a-zA-Z_$0-9]*/;function fj(a){var b,c,d,e,f,g,h;b=a.pos;d=a.matchPattern(/^@(?:keypath|rootpath|index|key|ractive|global)/);d||(c=a.matchPattern(fe)||'',d=!c&&a.relaxedNames&&a.matchPattern(fi)||a.matchPattern(fh),!d&&c==='.'&&(c='',d='.'));if(!d){return null}if(!c&&!a.relaxedNames&&fg.test(d)){a.pos=b;return null}if(!c&&ff.test(d)){e=ff.exec(d)[0];a.pos=b+e.length;return{t:em,v:e}}g=(c||'').length+d.length;f=(c||'')+aG(d);if(a.matchString('(')){h=f.lastIndexOf('.');if(h!==-1&&d[d.length-1]!==']'){var i=f.length;f=f.substr(0,h);a.pos=b+(g-(i-h))}else a.pos-=1}return{t:eo,n:f.replace(/^this\./,'./').replace(/^this$/,'.')}}function fk(a){if(!a.matchString('('))return null;a.allowWhitespace();var b=fw(a);b||a.error(eL);a.allowWhitespace();a.matchString(')')||a.error(eM);return{t:es,x:b}}function fl(a){return fd(a)||fj(a)||fk(a)}function fm(a){a.strictRefinement||a.allowWhitespace();if(a.matchString('.')){a.allowWhitespace();var b=a.matchPattern(eX);if(b){return{t:ep,n:b}}a.error('Expected a property name')}if(a.matchString('[')){a.allowWhitespace();var c=fw(a);c||a.error(eL);a.allowWhitespace();a.matchString(']')||a.error("Expected ']'");return{t:ep,x:c}}return null}function fo(a){var b=fl(a);if(!b)return null;while(b){var c=fm(a);if(c)b={t:eq,x:b,r:c};else if(a.matchString('(')){a.allowWhitespace();var d=fb(a);a.allowWhitespace();a.matchString(')')||a.error(eM);b={t:ev,x:b};d&&(b.o=d)}else{break}}return b}var fp,fq;fq=function(a,b){return function(c){var d;if(d=b(c)){return d}if(!c.matchString(a)){return null}c.allowWhitespace();d=fw(c);d||c.error(eL);return{s:a,o:d,t:er}}};!function(){var a,b,c,d,e;d='! ~ + - typeof'.split(' ');e=fo;for(a=0, b=d.length;a<b;a+=1){c=fq(d[a],e),e=c}fp=e}();var fr=fp,fs,ft;ft=function(a,b){return function(c){var d,e,f;e=b(c);if(!e){return null}while(!0){d=c.pos;c.allowWhitespace();if(!c.matchString(a)){c.pos=d;return e}if(a==='in'&&/[a-zA-Z_$0-9]/.test(c.remaining().charAt(0))){c.pos=d;return e}c.allowWhitespace();f=b(c);if(!f){c.pos=d;return e}e={t:eu,s:a,o:[e,f]}}}};!function(){var a,b,c,d,e;d='* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||'.split(' ');e=fr;for(a=0, b=d.length;a<b;a+=1){c=ft(d[a],e),e=c}fs=e}();var fu=fs;function fv(a){var b,c,d,e;c=fu(a);if(!c){return null}b=a.pos;a.allowWhitespace();if(!a.matchString('?')){a.pos=b;return c}a.allowWhitespace();d=fw(a);d||a.error(eL);a.allowWhitespace();a.matchString(':')||a.error('Expected ":"');a.allowWhitespace();e=fw(a);e||a.error(eL);return{t:et,o:[c,d,e]}}function fw(a){return fv(a)}function fx(a){var b;fy(a,b=[]);return{r:b,s:c(a)};function c(a){switch(a.t){case ek:;case em:;case eg:;case el:return a.v;case eh:return JSON.stringify(String(a.v));case ei:return'['+(a.m?a.m.map(c).join(','):'')+']';case ej:return'{'+(a.m?a.m.map(c).join(','):'')+'}';case en:return a.k+':'+c(a.v);case er:return(a.s==='typeof'?'typeof ':a.s)+c(a.o);case eu:return c(a.o[0])+(a.s.substr(0,2)==='in'?' '+a.s+' ':a.s)+c(a.o[1]);case ev:return c(a.x)+'('+(a.o?a.o.map(c).join(','):'')+')';case es:return'('+c(a.x)+')';case eq:return c(a.x)+c(a.r);case ep:return a.n?'.'+a.n:'['+c(a.x)+']';case et:return c(a.o[0])+'?'+c(a.o[1])+':'+c(a.o[2]);case eo:return'_'+b.indexOf(a.n);default:throw new Error( 'Expected legal JavaScript' )}}}function fy(a,b){var c,d;a.t===eo&&(b.indexOf(a.n)===-1&&b.unshift(a.n));d=a.o||a.m;if(d){if(af(d))fy(d,b);else{c=d.length;while(c--)fy(d[c],b)}}a.x&&fy(a.x,b);a.r&&fy(a.r,b);a.v&&fy(a.v,b)}function fz(a,b){var c;if(a){while(a.t===es&&a.x)a=a.x;a.t===eo?(b.r=a.n):(c=fA(a))?(b.rx=c):(b.x=fx(a));return b}}function fA(a){var b=[],c;while(a.t===eq&&a.r.t===ep){c=a.r,c.x?(c.x.t===eo?b.unshift(c.x):b.unshift(fx(c.x))):b.unshift(c.n),a=a.x}if(a.t!==eo){return null}return{r:a.n,m:b}}function fB(a,b){var c=fw(a),d;if(!c){return null}a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));d={t:dU};fz(c,d);return d}function fC(a,b){var c,d;if(!a.matchString('&')){return null}a.allowWhitespace();c=fw(a);if(!c){return null}a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));d={t:dU};fz(c,d);return d}var fD=/^(?:[a-zA-Z$_0-9]|\\\.)+(?:(?:(?:[a-zA-Z$_0-9]|\\\.)+)|(?:\[[0-9]+\]))*/,fE=/^as/i;function fF(a){var b=[],c,d=a.pos;a.allowWhitespace();c=fG(a);if(c){c.x=fz(c.x,{});b.push(c);a.allowWhitespace();while(a.matchString(',')){c=fG(a),c||a.error('Expected another alias.'),c.x=fz(c.x,{}),b.push(c),a.allowWhitespace()}return b}a.pos=d;return null}function fG(a){var b,c,d=a.pos;a.allowWhitespace();b=fw(a,[]);if(!b){a.pos=d;return null}a.allowWhitespace();if(!a.matchPattern(fE)){a.pos=d;return null}a.allowWhitespace();c=a.matchPattern(fD);c||a.error('Expected a legal alias name.');return{n:c,x:b}}function fH(a,b){if(!a.matchString('>'))return null;a.allowWhitespace();a.relaxedNames=a.strictRefinement=!0;var c=fw(a);a.relaxedNames=a.strictRefinement=!1;if(!c)return null;var d={t:dZ};fz(c,d);a.allowWhitespace();var e=fF(a);if(e)d={t:ef,z:e,f:[d]};else{var f=fw(a);f&&(d={t:dV,n:ez,f:[d]},fz(f,d))}a.allowWhitespace();a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));return d}function fI(a,b){var c;if(!a.matchString('!')){return null}c=a.remaining().indexOf(b.close);if(c!==-1){a.pos+=c+b.close.length;return{t:d_}}}function fJ(a,b){var c,d,e;c=a.pos;d=fw(a);if(!d){var f=a.matchPattern(/^(\w+)/);if(f){return{t:eo,n:f}}return null}for(e=0;e<b.length;e+=1){if(a.remaining().substr(0,b[e].length)===b[e]){return d}}a.pos=c;return fj(a)}function fK(a,b){var c,d,f,g;c=a.pos;try{d=fJ(a,[b.close])}catch(a){g=a};if(!d){if(a.str.charAt(c)==='!'){a.pos=c;return null}if(g){throw g}}if(!a.matchString(b.close)){a.error(("Expected closing delimiter '"+b.close+"' after reference"));if(!d){if(a.nextChar()==='!'){return null}a.error("Expected expression or legal reference")}}f={t:dT};fz(d,f);return f}var fL=/^yield\s*/;function fM(a,b){if(!a.matchPattern(fL))return null;var c=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-]*/);a.allowWhitespace();a.matchString(b.close)||a.error("expected legal partial name");var d={t:ec};c&&(d.n=c);return d}function fN(a,b){var c,d,e,f;c=a.pos;if(!a.matchString(b.open)){return null}a.allowWhitespace();if(!a.matchString('/')){a.pos=c;return null}a.allowWhitespace();d=a.remaining();e=d.indexOf(b.close);if(e!==-1){f={t:dX,r:d.substr(0,e).split(' ')[0]};a.pos+=e;a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));return f}a.pos=c;return null}var fO=/^\s*else\s*/;function fP(a,b){var c=a.pos;if(!a.matchString(b.open)){return null}if(!a.matchPattern(fO)){a.pos=c;return null}a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));return{t:eB}}var fQ=/^\s*elseif\s+/;function fR(a,b){var c=a.pos;if(!a.matchString(b.open)){return null}if(!a.matchPattern(fQ)){a.pos=c;return null}var d=fw(a);a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));return{t:eC,x:d}}var fS={'each':ey,'if':ew,'with':eA,'unless':ex},fT=/^\s*:\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,fU=/^\s*,\s*([a-zA-Z_$][a-zA-Z_$0-9]*)/,fV=new RegExp( '^('+Object.keys(fS).join('|')+')\\b' );function fW(a,b){var c,d,e,f,g,h,i,j,k,l,m,n,o=!1;c=a.pos;if(a.matchString('^'))e={t:dV,f:[],n:ex};else if(a.matchString('#'))e={t:dV,f:[]},a.matchString('partial')&&(a.pos=c-a.standardDelimiters[0].length,a.error('Partial definitions can only be at the top level of the template, or immediately inside components')),(i=a.matchPattern(fV))&&(n=i,e.n=fS[i]);else{return null}a.allowWhitespace();if(i==='with'){var p=fF(a);p&&(o=!0,e.z=p,e.t=ef)}else if(i==='each'){var q=fG(a);q&&(e.z=[{n:q.n,x:{r:'.'}}],d=q.x)}if(!o){d||(d=fw(a));d||a.error('Expected expression');if(m=a.matchPattern(fT)){var r;(r=a.matchPattern(fU))?(e.i=m+','+r):(e.i=m)}}a.allowWhitespace();a.matchString(b.close)||a.error(("Expected closing delimiter '"+b.close+"'"));a.sectionDepth+=1;g=e.f;k=[];do {if(f=fN(a,b))n&&f.r!==n&&a.error(("Expected "+b.open+"/"+n+""+b.close)),a.sectionDepth-=1,l=!0;else if(!o&&(f=fR(a,b)))e.n===ex&&a.error('{{else}} not allowed in {{#unless}}'),h&&a.error('illegal {{elseif...}} after {{else}}'),j||(j=fX(d)),j.f.push({t:dV,n:ew,x:fx(fZ(k.concat(f.x))),f:g=[]}),k.push(fY(f.x));else if(!o&&(f=fP(a,b)))e.n===ex&&a.error('{{else}} not allowed in {{#unless}}'),h&&a.error('there can only be one {{else}} block, at the end of a section'),h=!0,j?j.f.push({t:dV,n:ew,x:fx(fZ(k)),f:g=[]}):(j=fX(d),g=j.f);else{f=a.read(hF);if(!f){break}g.push(f)}}while(!l);j&&(e.l=j);o||fz(d,e);e.f.length||delete e.f;return e}function fX(a){var b={t:dV,n:ex,f:[]};fz(a,b);return b}function fY(a){if(a.t===er&&a.s==='!'){return a.o}return{t:er,s:'!',o:f_(a)}}function fZ(a){if(a.length===1){return a[0]}return{t:eu,s:'&&',o:[f_(a[0]),f_(fZ(a.slice(1)))]}}function f_(a){return{t:es,x:a}}var f$='<!--',ga='-->';function gb(a){var b,c,d,e,f;b=a.pos;if(!a.matchString(f$)){return null}d=a.remaining();e=d.indexOf(ga);e===-1&&a.error('Illegal HTML - expected closing comment sequence (\'-->\')');c=d.substr(0,e);a.pos+=e+3;f={t:d_,c:c};a.includeLinePositions&&(f.p=a.getLinePos(b));return f}var gc=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i,gd=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i,ge={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,'int':8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},gf=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],gg=new RegExp( '&(#?(?:x[\\w\\d]+|\\d+|'+Object.keys(ge).join('|')+'));?', 'g' ),gh=typeof String.fromCodePoint==='function',gi=gh?String.fromCodePoint:String.fromCharCode;function gj(a){return a.replace(gg,function(a,b){var c;b[0]!=='#'?(c=ge[b]):b[1]==='x'?(c=parseInt(b.substring(2),16)):(c=parseInt(b.substring(1),10));if(!c){return a}return gi(gp(c))})}var gk=/</g,gl=/>/g,gm=/&/g,gn=65533;function go(a){return a.replace(gm,'&amp;').replace(gk,'&lt;').replace(gl,'&gt;')}function gp(a){if(!a){return gn}if(a===10){return 32}if(a<128){return a}if(a<=159){return gf[a-128]}if(a<55296){return a}if(a<=57343){return gn}if(a<=65535){return a}else if(!gh){return gn}if(a>=65536&&a<=131071){return a}if(a>=131072&&a<=196607){return a}return gn}var gq=/^[ \t\f\r\n]*\r?\n/,gr=/\r?\n[ \t\f\r\n]*$/;function gs(a){var b,c,d,e,f;for(b=1;b<a.length;b+=1){c=a[b],d=a[b-1],e=a[b-2],gt(c)&&gu(d)&&gt(e)&&(gr.test(e)&&gq.test(c)&&(a[b-2]=e.replace(gr,'\n'),a[b]=c.replace(gq,''))),gv(c)&&gt(d)&&(gr.test(d)&&gt(c.f[0])&&gq.test(c.f[0])&&(a[b-1]=d.replace(gr,'\n'),c.f[0]=c.f[0].replace(gq,''))),gt(c)&&gv(d)&&(f=aS(d.f),gt(f)&&gr.test(f)&&gq.test(c)&&(d.f[d.f.length-1]=f.replace(gr,'\n'),a[b]=c.replace(gq,'')))}return a}function gt(a){return typeof a==='string'}function gu(a){return a.t===d_||a.t===d$}function gv(a){return(a.t===dV||a.t===dW)&&a.f}function gw(a,b,c){var d;b&&(d=a[0],typeof d==='string'&&(d=d.replace(b,''),d?(a[0]=d):a.shift()));c&&(d=aS(a),typeof d==='string'&&(d=d.replace(c,''),d?(a[a.length-1]=d):a.pop()))}var gx=/[ \t\f\r\n]+/g,gy=/^(?:pre|script|style|textarea)$/i,gz=/^[ \t\f\r\n]+/,gA=/[ \t\f\r\n]+$/,gB=/^(?:\r\n|\r|\n)/,gC=/(?:\r\n|\r|\n)$/;function gD(a,b,c,d,e){var f,g,h,i,j,k,l,m;gs(a);f=a.length;while(f--){g=a[f],g.exclude?a.splice(f,1):b&&g.t===d_&&a.splice(f,1)}gw(a,d?gz:null,e?gA:null);f=a.length;while(f--){g=a[f];if(g.f){var n=g.t===dY&&gy.test(g.e);j=c||n;!c&&n&&gw(g.f,gB,gC);j||(h=a[f-1],i=a[f+1],(!h||typeof h==='string'&&gA.test(h))&&(k=!0),(!i||typeof i==='string'&&gz.test(i))&&(l=!0));gD(g.f,b,j,k,l)}g.l&&(gD(g.l.f,b,c,k,l),a.splice(f+1,0,g.l),delete g.l);if(g.a){for(m in g.a){g.a.hasOwnProperty(m)&&typeof g.a[m]!=='string'&&gD(g.a[m],b,c,k,l)}}g.m&&gD(g.m,b,c,k,l);if(g.v){for(m in g.v){g.v.hasOwnProperty(m)&&(ac(g.v[m].n)&&gD(g.v[m].n,b,c,k,l),ac(g.v[m].d)&&gD(g.v[m].d,b,c,k,l))}}}f=a.length;while(f--){typeof a[f]==='string'&&(typeof a[f+1]==='string'&&(a[f]=a[f]+a[f+1],a.splice(f+1,1)),c||(a[f]=a[f].replace(gx,' ')),a[f]===''&&a.splice(f,1))}}var gE=/^([a-zA-Z]{1,}:?[a-zA-Z0-9\-]*)\s*\>/;function gF(a){var b,c;b=a.pos;if(!a.matchString('</')){return null}if(c=a.matchPattern(gE)){if(a.inside&&c!==a.inside){a.pos=b;return null}return{t:ea,e:c}}a.pos-=2;a.error('Illegal closing tag')}var gG=/[-/\\^$*+?.()|[\]{}]/g;function gH(a){return a.replace(gG,'\\$&')}var gI={};function gJ(a,b){return a.search(gI[b.join()]||(gI[b.join()]=new RegExp( b.map(gH).join('|') )))}var gK=/^[^\s"'>\/=]+/,gL=/^[^\s"'=<>`]+/;function gM(a){var b,c,d;a.allowWhitespace();c=a.matchPattern(gK);if(!c){return null}b={name:c};d=gN(a);d!=null&&(b.value=d);return b}function gN(a){var b,c,d,e;b=a.pos;/[=\/>\s]/.test(a.nextChar())||a.error('Expected `=`, `/`, `>` or whitespace');a.allowWhitespace();if(!a.matchString('=')){a.pos=b;return null}a.allowWhitespace();c=a.pos;d=a.sectionDepth;e=gQ(a,"'")||gQ(a,"\"")||gP(a);e===null&&a.error('Expected valid attribute value');a.sectionDepth!==d&&(a.pos=c,a.error('An attribute value must contain as many opening section tags as closing section tags'));if(!e.length){return''}if(e.length===1&&typeof e[0]==='string'){return gj(e[0])}return e}function gO(a){var b,c,d,e,f;b=a.pos;c=a.matchPattern(gL);if(!c){return null}d=c;e=a.tags.map(function(a){return a.open});(f=gJ(d,e))!==-1&&(c=c.substr(0,f),a.pos=b+c.length);return c}function gP(a){var b,c;a.inAttribute=!0;b=[];c=eJ(a)||gO(a);while(c!==null){b.push(c),c=eJ(a)||gO(a)}if(!b.length){return null}a.inAttribute=!1;return b}function gQ(a,b){var c,d,e;c=a.pos;if(!a.matchString(b)){return null}a.inAttribute=b;d=[];e=eJ(a)||gR(a,b);while(e!==null){d.push(e),e=eJ(a)||gR(a,b)}if(!a.matchString(b)){a.pos=c;return null}a.inAttribute=!1;return d}function gR(a,b){var c=a.remaining(),d=a.tags.map(function(a){return a.open});d.push(b);var e=gJ(c,d);e===-1&&a.error('Quoted attribute value must have a closing quote');if(!e){return null}a.pos+=e;return c.substr(0,e)}var gS={'true':!0,'false':!1,'null':null,undefined:undefined},gT=new RegExp( '^(?:'+Object.keys(gS).join('|')+')' ),gU=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,gV=/\$\{([^\}]+)\}/g,gW=/^\$\{([^\}]+)\}/,gX=/^\s*$/,gY=dR.extend({init:function(a,b){this.values=b.values;this.allowWhitespace()},postProcess:function(a){if(a.length!==1||!gX.test(this.leftover)){return null}return{value:a[0].v}},converters:[function b(a){if(!a.values)return null;var c=a.matchPattern(gW);if(c&&a.values.hasOwnProperty(c)){return{v:a.values[c]}}},function b(a){var c=a.matchPattern(gT);if(c)return{v:gS[c]}},function b(a){var c=a.matchPattern(gU);if(c)return{v:+c}},function b(a){var c=eW(a),d=a.values;if(c&&d){return{v:c.v.replace(gV,function(a,b){return b in d?d[b]:b})}}return c},function b(a){if(!a.matchString('{'))return null;var c={};a.allowWhitespace();if(a.matchString('}')){return{v:c}}var d;while(d=gZ(a)){c[d.key]=d.value;a.allowWhitespace();if(a.matchString('}')){return{v:c}}if(!a.matchString(',')){return null}}return null},function b(a){if(!a.matchString('['))return null;var c=[];a.allowWhitespace();if(a.matchString(']')){return{v:c}}var d;while(d=a.read()){c.push(d.v);a.allowWhitespace();if(a.matchString(']')){return{v:c}}if(!a.matchString(',')){return null}a.allowWhitespace()}return null}]});function gZ(a){a.allowWhitespace();var b=eZ(a);if(!b)return null;var c={key:b};a.allowWhitespace();if(!a.matchString(':')){return null}a.allowWhitespace();var d=a.read();if(!d)return null;c.value=d.v;return c}function g_(a,b){var c=new gY( a, {values:b});return c.result}var g$=/^([a-zA-Z_$][a-zA-Z_$0-9]*)\(/,ha=/\)\s*$/,hb=/(\s*,{0,1}\s*\.{3}arguments\s*)$/,hc;hc=dR.extend({converters:[fw]});function hd(a,b){var c,d,e,f,g,h,i;if(typeof a==='string'){if(d=g$.exec(a)){var j=a.lastIndexOf(')');ha.test(a)||b.error(("Invalid input after method call expression '"+a.slice(j+1)+"'"));c={m:d[1]};var k=a.slice(c.m.length+1,j),l=k.replace(hb,'');k!==l&&(c.g=!0);if(l){var m=new hc( '['+l+']' );c.a=fx(m.result[0])}return c}if(a.indexOf(':')===-1){return a.trim()}a=[a]}c={};g=[];h=[];if(a){while(a.length){e=a.shift();if(typeof e==='string'){f=e.indexOf(':');if(f===-1)g.push(e);else{f&&g.push(e.substr(0,f));e.length>f+1&&(h[0]=e.substring(f+1));break}}else g.push(e)}h=h.concat(a)}g.length?h.length||typeof g!=='string'?(c={n:g.length===1&&typeof g[0]==='string'?g[0]:g},h.length===1&&typeof h[0]==='string'?(i=g_('['+h[0]+']'),c.a=i?i.value:[h[0].trim()]):(c.d=h)):(c=g):(c='');return c}var he=/^[a-zA-Z]{1,}:?[a-zA-Z0-9\-]*/,hf=/^[\s\n\/>]/,hg=/^on/,hh=/^on-([a-zA-Z\\*\\.$_][a-zA-Z\\*\\.$_0-9\-]+)$/,hi=/^(?:change|reset|teardown|update|construct|config|init|render|unrender|detach|insert)$/,hj={'intro-outro':'t0',intro:'t1',outro:'t2',decorator:'o'},hk={exclude:!0},hl;hl={li:['li'],dt:['dt','dd'],dd:['dt','dd'],p:'address article aside blockquote div dl fieldset footer form h1 h2 h3 h4 h5 h6 header hgroup hr main menu nav ol p pre section table ul'.split(' '),rt:['rt','rp'],rp:['rt','rp'],optgroup:['optgroup'],option:['option','optgroup'],thead:['tbody','tfoot'],tbody:['tbody','tfoot'],tfoot:['tbody'],tr:['tr','tbody'],td:['td','th','tr'],th:['td','th','tr']};function hm(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q;b=a.pos;if(a.inside||a.inAttribute){return null}if(!a.matchString('<')){return null}if(a.nextChar()==='/'){return null}c={};a.includeLinePositions&&(c.p=a.getLinePos(b));if(a.matchString('!')){c.t=ee;a.matchPattern(/^doctype/i)||a.error('Expected DOCTYPE declaration');c.a=a.matchPattern(/^(.+?)>/);return c}c.t=dY;c.e=a.matchPattern(he);if(!c.e){return null}hf.test(a.nextChar())||a.error('Illegal tag name');f=function(b,d){var e=d.n||d;hi.test(e)&&(a.pos-=e.length,a.error('Cannot use reserved event names (change, reset, teardown, update, construct, config, init, render, unrender, detach, insert)'));c.v[b]=d};a.allowWhitespace();while(g=eJ(a)||gM(a)){g.name?((d=hj[g.name])?(c[d]=hd(g.value,a)):(e=hh.exec(g.name))?(c.v||(c.v={}),h=hd(g.value,a),f(e[1],h)):(!a.sanitizeEventAttributes||!hg.test(g.name))&&(c.a||(c.a={}),c.a[g.name]=g.value||(g.value===''?'':0))):(c.m||(c.m=[]),c.m.push(g)),a.allowWhitespace()}a.allowWhitespace();a.matchString('/')&&(i=!0);if(!a.matchString('>')){return null}var r=c.e.toLowerCase(),s=a.preserveWhitespace;if(!i&&!gd.test(c.e)){a.elementStack.push(r);(r==='script'||r==='style'||r==='textarea')&&(a.inside=r);j=[];k=X(null);do {o=a.pos;p=a.remaining();p||a.error(("Missing end "+(a.elementStack.length>1?'tags':'tag')+" ("+a.elementStack.reverse().map(function(a){return "</"+a+">"}).join('')+")"));if(!hn(r,p))n=!0;else if(q=gF(a)){n=!0;var t=q.e.toLowerCase();if(t!==r){a.pos=o;if(!~a.elementStack.indexOf(t)){var u='Unexpected closing tag';gd.test(t)&&(u+=" (<"+t+"> is a void element - it cannot contain children)");a.error(u)}}}else (m=fN(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?(n=!0,a.pos=o):(m=a.read(hG))?(k[m.n]&&(a.pos=o,a.error('Duplicate partial definition')),gD(m.f,a.stripComments,s,!s,!s),k[m.n]=m.f,l=!0):(m=a.read(hF))?j.push(m):(n=!0)}while(!n);j.length&&(c.f=j);l&&(c.p=k);a.elementStack.pop()}a.inside=null;if(a.sanitizeElements&&a.sanitizeElements.indexOf(r)!==-1){return hk}return c}function hn(a,b){var c,d;c=/^<([a-zA-Z][a-zA-Z0-9]*)/.exec(b);d=hl[a];if(!c||!d){return !0}return!~d.indexOf(c[1].toLowerCase())}function ho(a){var b,c,d,e;c=a.remaining();a.textOnlyMode?(d=a.tags.map(function(a){return a.open}),d=d.concat(a.tags.map(function(a){return'\\'+a.open})),b=gJ(c,d)):(e=a.inside?'</'+a.inside:'<',a.inside&&!a.interpolate[a.inside]?(b=c.indexOf(e)):(d=a.tags.map(function(a){return a.open}),d=d.concat(a.tags.map(function(a){return'\\'+a.open})),a.inAttribute===!0?d.push("\"","'","=","<",">",'`'):a.inAttribute?d.push(a.inAttribute):d.push(e),b=gJ(c,d)));if(!b){return null}b===-1&&(b=c.length);a.pos+=b;if(a.inside&&a.inside!=='textarea'||a.textOnlyMode){return c.substr(0,b)}else{return gj(c.substr(0,b))}}var hp=/^<!--\s*/,hq=/s*>\s*([a-zA-Z_$][-a-zA-Z_$0-9]*)\s*/,hr=/\s*-->/;function hs(a){var b=a.pos,c=a.standardDelimiters[0],d=a.standardDelimiters[1];if(!a.matchPattern(hp)||!a.matchString(c)){a.pos=b;return null}var e=a.matchPattern(hq);as(("Inline partial comments are deprecated.\nUse this...\n  {{#partial "+e+"}} ... {{/partial}}\n\n...instead of this:\n  <!-- {{>"+e+"}} --> ... <!-- {{/"+e+"}} -->'"));if(!a.matchString(d)||!a.matchPattern(hr)){a.pos=b;return null}var f=[],g,h=new RegExp('^<!--\\s*'+gH(c)+'\\s*\\/\\s*'+e+'\\s*'+gH(d)+'\\s*-->');do {if(a.matchPattern(h))g=!0;else{var i=a.read(hF);i||a.error(("expected closing comment ('<!-- "+c+"/"+e+""+d+" -->')"));f.push(i)}}while(!g);return{t:ed,f:f,n:e}}var ht=/^#\s*partial\s+/;function hu(a){var b,c,d,e,f;b=a.pos;var g=a.standardDelimiters;if(!a.matchString(g[0])){return null}if(!a.matchPattern(ht)){a.pos=b;return null}c=a.matchPattern(/^[a-zA-Z_$][a-zA-Z_$0-9\-\/]*/);c||a.error('expected legal partial name');a.matchString(g[1])||a.error(("Expected closing delimiter '"+g[1]+"'"));d=[];do {(e=fN(a,{open:a.standardDelimiters[0],close:a.standardDelimiters[1]}))?(!e.r==='partial'&&a.error(("Expected "+g[0]+"/partial"+g[1])),f=!0):(e=a.read(hF),e||a.error(("Expected "+g[0]+"/partial"+g[1])),d.push(e))}while(!f);return{t:ed,n:c,f:d}}function hv(a){var b=[],c=X(null),d=!1,e=a.preserveWhitespace;while(a.pos<a.str.length){var f=a.pos,g,h;(h=a.read(hG))?(c[h.n]&&(a.pos=f,a.error('Duplicated partial definition')),gD(h.f,a.stripComments,e,!e,!e),c[h.n]=h.f,d=!0):(g=a.read(hF))?b.push(g):a.error('Unexpected template content')}var i={v:dH,t:b};d&&(i.p=c);return i}function hw(a,b){Object.keys(a).forEach(function(c){if(hx(c,a))return hy(a,b);var d=a[c];hz(d)&&hw(d,b)})}function hx(a,b){return a==='s'&&ac(b.r)}function hy(a,b){var c=a.s,d=a.r;b[c]||(b[c]=dJ(c,d.length))}function hz(a){return ac(a)||af(a)}var hA=[fH,fC,fW,fM,fK,fI],hB=[fB],hC=[fC,fW,fK],hD;function hE(a,b){return new hD( a, b||{} ).result}hE.computedStrings=function(a){if(!a)return[];Object.keys(a).forEach(function(b){var c=a[b];typeof c==='string'&&(a[b]=dK(c))})};var hF=[eJ,gb,hm,ho],hG=[hs,hu];hD=dR.extend({init:function(a,b){var c=b.tripleDelimiters||['{{{','}}}'],d=b.staticDelimiters||['[[',']]'],e=b.staticTripleDelimiters||['[[[',']]]'];this.standardDelimiters=b.delimiters||['{{','}}'];this.tags=[{isStatic:!1,isTriple:!1,open:this.standardDelimiters[0],close:this.standardDelimiters[1],readers:hA},{isStatic:!1,isTriple:!0,open:c[0],close:c[1],readers:hB},{isStatic:!0,isTriple:!1,open:d[0],close:d[1],readers:hC},{isStatic:!0,isTriple:!0,open:e[0],close:e[1],readers:hB}];this.sortMustacheTags();this.sectionDepth=0;this.elementStack=[];this.interpolate={script:!b.interpolate||b.interpolate.script!==!1,style:!b.interpolate||b.interpolate.style!==!1,textarea:!0};b.sanitize===!0&&(b.sanitize={elements:'applet base basefont body frame frameset head html isindex link meta noframes noscript object param script style title'.split(' '),eventAttributes:!0});this.stripComments=b.stripComments!==!1;this.preserveWhitespace=b.preserveWhitespace;this.sanitizeElements=b.sanitize&&b.sanitize.elements;this.sanitizeEventAttributes=b.sanitize&&b.sanitize.eventAttributes;this.includeLinePositions=b.includeLinePositions;this.textOnlyMode=b.textOnlyMode;this.csp=b.csp},postProcess:function(a){if(!a.length){return{t:[],v:dH}}this.sectionDepth>0&&this.error('A section was left open');gD(a[0].t,this.stripComments,this.preserveWhitespace,!this.preserveWhitespace,!this.preserveWhitespace);if(this.csp!==!1){var b={};hw(a[0].t,b);Object.keys(b).length&&(a[0].e=b)}return a[0]},converters:[hv],sortMustacheTags:function(){this.tags.sort(function(a,b){return b.open.length-a.open.length})}});var hH=['delimiters','tripleDelimiters','staticDelimiters','staticTripleDelimiters','csp','interpolate','preserveWhitespace','sanitize','stripComments'],hI="Either preparse or use a ractive runtime source that includes the parser. ",hJ="Either use:\n\n\tRactive.parse.computedStrings( component.computed )\n\nat build time to pre-convert the strings to functions, or use functions instead of strings in computed properties.";function hK(a,b,c){a||an(("Missing Ractive.parse - cannot parse "+b+". "+c))}function hL(a,b){hK(dJ,'new expression function',hI);return dJ(a,b)}function hM(a,b){hK(dK,'compution string "${str}"',hJ);return dK(a,b)}var hN={fromId:function(a,b){if(!j){if(b&&b.noThrow){return}throw new Error( ("Cannot retrieve template #"+a+" as Ractive is not running in a browser.") )}a&&(a=a.replace(/^#/,''));var c;if(!(c=j.getElementById(a))){if(b&&b.noThrow){return}throw new Error( ("Could not find template element with id #"+a) )}if(c.tagName.toUpperCase()!=='SCRIPT'){if(b&&b.noThrow){return}throw new Error( ("Template element with id #"+a+", must be a <script> element") )}return 'textContent' in c?c.textContent:c.innerHTML},isParsed:function(a){return!(typeof a==='string')},getParseOptions:function(a){a.defaults&&(a=a.defaults);return hH.reduce(function(b,c){b[c]=a[c];return b},{})},parse:function(a,b){hK(hE,'template',hI);var c=hE(a,b);dN(c);return c},parseFor:function(a,b){return this.parse(a,this.getParseOptions(b))}},hO={name:'template',extend:function(a,b,c){if('template' in c){var d=c.template;typeof d==='function'?(b.template=d):(b.template=hR(d,b))}},init:function(a,b,c){var d='template' in c?c.template:a.prototype.template;d=d||{v:dH,t:[]};if(typeof d==='function'){var e=d;d=hQ(b,e);b._config.template={fn:e,result:d}}d=hR(d,b);b.template=d.t;d.p&&hU(b.partials,d.p)},reset:function(a){var b=hP(a);if(b){var c=hR(b,a);a.template=c.t;hU(a.partials,c.p,!0);return !0}}};function hP(a){var b=a._config.template;if(!b||!b.fn){return}var c=hQ(a,b.fn);if(c!==b.result){b.result=c;return c}}function hQ(a,b){return b.call(a,{fromId:hN.fromId,isParsed:hN.isParsed,parse:function(b,c){c===void 0&&(c=hN.getParseOptions(a));return hN.parse(b,c)}})}function hR(a,b){typeof a==='string'?(a=hS(a,b)):(hT(a),dN(a));return a}function hS(a,b){a[0]==='#'&&(a=hN.fromId(a));return hN.parseFor(a,b)}function hT(a){if(a==undefined){throw new Error( ("The template cannot be "+a+".") )}else if(typeof a.v!=='number'){throw new Error( 'The template parser was passed a non-string template, but the template doesn\'t have a version.  Make sure you\'re passing in the template you think you are.' )}else if(a.v!==dH){throw new Error( ("Mismatched template version (expected "+dH+", got "+a.v+") Please ensure you are using the latest version of Ractive.js in your build process as well as in your app") )}}function hU(a,b,c){if(!b)return;for(var d in b){(c||!a.hasOwnProperty(d))&&(a[d]=b[d])}}var hV=['adaptors','components','computed','decorators','easing','events','interpolators','partials','transitions'],hW=function c(a,b){this.name=a;this.useDefaults=b};hW.prototype.extend=function d(a,b,c){this.configure(this.useDefaults?a.defaults:a,this.useDefaults?b:b.constructor,c)};hW.prototype.init=function a(){};hW.prototype.configure=function d(a,b,c){var e=this.name,f=c[e],g=X(a[e]);for(var h in f)g[h]=f[h];b[e]=g};hW.prototype.reset=function b(a){var c=a[this.name],d=!1;Object.keys(c).forEach(function(a){var b=c[a];b._fn&&(b._fn.isOwner?(c[a]=b._fn):delete c[a],d=!0)});return d};var hX=hV.map(function(a){return new hW( a, a==='computed' )});function hY(a,b,c){if(!/_super/.test(c))return c;function d(){var a=hZ(d._parent,b),e='_super' in this,f=this._super;this._super=a;var g=c.apply(this,arguments);e?(this._super=f):delete this._super;return g}d._parent=a;d._method=c;return d}function hZ(a,b){if(b in a){var c=a[b];return typeof c==='function'?c:function(){return c}}return A}function h_(a,b,c){return"options."+a+" has been deprecated in favour of options."+b+"."+(c?" You cannot specify both options, please use options."+b+".":'')}function h$(a,b,c){if(b in a){if(!(c in a))ar(h_(b,c)),a[c]=a[b];else{throw new Error( h_(b,c,!0) )}}}function ia(a){h$(a,'beforeInit','onconstruct');h$(a,'init','onrender');h$(a,'complete','oncomplete');h$(a,'eventDefinitions','events');ac(a.adaptors)&&h$(a,'adaptors','adapt')}var ib={adapt:dm,css:dA,data:dD,template:hO},ic=Object.keys(g),ie=il(ic.filter(function(a){return!ib[a]})),ig=il(ic.concat(hX.map(function(a){return a.name}))),ih=[].concat(ic.filter(function(a){return!hX[a]&&!ib[a]}),hX,ib.template,ib.css),ii={extend:function(a,b,c){return ij('extend',a,b,c)},init:function(a,b,c){return ij('init',a,b,c)},reset:function(a){return ih.filter(function(b){return b.reset&&b.reset(a)}).map(function(a){return a.name})},order:ih};function ij(a,b,c,d){ia(d);for(var e in d){if(ie.hasOwnProperty(e)){var f=d[e];e!=='el'&&typeof f==='function'?ar((""+e+" is a Ractive option that does not expect a function and will be ignored"),a==='init'?c:null):(c[e]=f)}}if(d.append&&d.enhance){throw new Error( 'Cannot use append and enhance at the same time' )}hX.forEach(function(e){e[a](b,c,d)});dm[a](b,c,d);hO[a](b,c,d);dA[a](b,c,d);ik(b.prototype,c,d)}function ik(a,b,c){for(var d in c){if(!ig[d]&&c.hasOwnProperty(d)){var e=c[d];typeof e==='function'&&(e=hY(a,d,e));b[d]=e}}}function il(a){var b={};a.forEach(function(a){return b[a]=!0});return b}var im=['template','partials','components','decorators','events'],io=new aN( 'complete' ),ip=new aN( 'reset' ),iq=new aN( 'render' ),ir=new aN( 'unrender' );function is(a){a=a||{};if(typeof a!=='object'){throw new Error( 'The reset method takes either no arguments, or an object containing new data' )}a=dD.init(this.constructor,this,{data:a});var b=bh.start(this,!0),c=this.viewmodel.wrapper;c&&c.reset?(c.reset(a)===!1&&this.viewmodel.set(a)):this.viewmodel.set(a);var d=ii.reset(this),e,f=d.length;while(f--){if(im.indexOf(d[f])>-1){e=!0;break}}e&&(ir.fire(this),this.fragment.resetTemplate(this.template),iq.fire(this),io.fire(this));bh.end();ip.fire(this,a);return b}function it(a,b,c){a.forEach(function(a){if(a.type===dZ&&(a.refName===b||a.name===b)){c.push(a);return}if(a.fragment)it(a.fragment.iterations||a.fragment.items,b,c);else if(ac(a.items))it(a.items,b,c);else if(a.type===eb&&a.instance){if(a.instance.partials[b])return;it(a.instance.fragment.items,b,c)}a.type===dY&&(ac(a.attributes)&&it(a.attributes,b,c),ac(a.conditionalAttributes)&&it(a.conditionalAttributes,b,c))})}function iu(a){a.forceResetTemplate()}function iv(a,b){var c=[];it(this.fragment.items,a,c);var d=bh.start(this,!0);this.partials[a]=b;c.forEach(iu);bh.end();return d}var iw=function b(a){this.parentFragment=a.parentFragment;this.ractive=a.parentFragment.ractive;this.template=a.template;this.index=a.index;this.type=a.template.t;this.dirty=!1};iw.prototype.bubble=function a(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())};iw.prototype.find=function a(){return null};iw.prototype.findAll=function a(){};iw.prototype.findComponent=function a(){return null};iw.prototype.findAllComponents=function a(){};iw.prototype.findNextNode=function a(){return this.parentFragment.findNextNode(this)};iw.prototype.valueOf=function a(){return this.toString()};var ix=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function b(a){a&&bS(this);var c=this.parent.get();return c?c[this.key]:undefined};b.prototype.handleChange=function a(){this.dirty=!0;this.deps.forEach(bV);this.children.forEach(bV);this.clearUnresolveds()};b.prototype.joinKey=function c(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var d=new b( this, a );this.children.push(d);this.childByKey[a]=d}return this.childByKey[a]};return b}(cu);function iy(a){return a?a.get(!0):undefined}var iz=function(a){function b(b,c){var d=this;a.call(this,b.ractive.viewmodel,null);this.fragment=b;this.template=c;this.isReadonly=!0;this.fn=dM(c.s,c.r.length);this.computation=null;this.resolvers=[];this.models=this.template.r.map(function(a,b){var c=cx(d.fragment,a),e;c||(e=d.fragment.resolve(a,function(a){aT(d.resolvers,e);d.models[b]=a;d.bubble()}),d.resolvers.push(e));return c});this.bubble()}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bubble=function a(){var b=this,c=this.fragment.ractive,d='@'+this.template.s.replace(/_(\d+)/g,function(a,c){if(c>=b.models.length)return a;var d=b.models[c];return d?d.getKeypath():'@undefined'}),e={getter:function(){var a=b.models.map(iy);return b.fn.apply(c,a)},getterString:d},f=c.viewmodel.compute(d,e);this.value=f.get();this.computation&&this.computation.unregister(this);this.computation=f;f.register(this);this.handleChange()};b.prototype.get=function b(a){return this.computation.get(a)};b.prototype.getKeypath=function a(){return this.computation?this.computation.getKeypath():'@undefined'};b.prototype.handleChange=function a(){this.deps.forEach(bV);this.children.forEach(bV);this.clearUnresolveds()};b.prototype.joinKey=function b(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var c=new ix( this, a );this.children.push(c);this.childByKey[a]=c}return this.childByKey[a]};b.prototype.mark=function a(){this.handleChange()};b.prototype.retrieve=function a(){return this.get()};b.prototype.teardown=function b(){this.unbind();this.fragment=undefined;this.computation&&this.computation.teardown();this.computation=undefined;a.prototype.teardown.call(this)};b.prototype.unregister=function c(b){a.prototype.unregister.call(this,b);this.deps.length||this.teardown()};b.prototype.unbind=function a(){var b=this;this.resolvers.forEach(b_);var c=this.models.length;while(c--){b.models[c]&&b.models[c].unregister(b)}};return b}(cu),iA=function(a){function b(b,c){a.call(this,b,c)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyValue=function b(a){if(ad(a,this.value))return;var c=this.parent,d=[this.key];while(c){if(c.base){var e=c.model.joinAll(d);e.applyValue(a);break}d.unshift(c.key);c=c.parent}};b.prototype.joinKey=function c(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var d=new b( this, a );this.children.push(d);this.childByKey[a]=d}return this.childByKey[a]};return b}(cu),iB=function(a){function b(b,c){var d=this;a.call(this,null,null);this.root=b.ractive.viewmodel;this.resolvers=[];this.base=iC(b,c);var e;this.base||(e=b.resolve(c.r,function(a){d.base=a;d.bubble();aT(d.resolvers,e)}),this.resolvers.push(e));var f={handleChange:function(){return d.bubble()}};this.members=c.m.map(function(a,c){if(typeof a==='string'){return{get:function(){return a}}}var e,g;if(a.t===eo){e=cx(b,a.n);e?e.register(f):(g=b.resolve(a.n,function(a){d.members[c]=a;a.register(f);d.bubble();aT(d.resolvers,g)}),d.resolvers.push(g));return e}e=new iz( b, a );e.register(f);return e});this.isUnresolved=!0;this.bubble()}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bubble=function a(){var b=this;if(!this.base)return;var c=this.members.length;while(c--){if(!b.members[c])return}this.isUnresolved=!1;var d=this.members.map(function(a){return aF(String(a.get()))}),e=this.base.joinAll(d);this.model&&(this.model.unregister(this),this.model.unregisterTwowayBinding(this));this.model=e;this.parent=e.parent;e.register(this);e.registerTwowayBinding(this);this.keypathModel&&this.keypathModel.handleChange();this.mark()};b.prototype.forceResolution=function a(){this.resolvers.forEach(function(a){return a.forceResolution()});this.bubble()};b.prototype.get=function a(){return this.model?this.model.get():undefined};b.prototype.getValue=function a(){var b=this,c=this.bindings.length;while(c--){var d=b.bindings[c].getValue();if(d!==b.value)return d}return this.value};b.prototype.getKeypath=function a(){return this.model?this.model.getKeypath():'@undefined'};b.prototype.handleChange=function a(){this.mark()};b.prototype.joinKey=function b(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var c=new iA( this, a );this.children.push(c);this.childByKey[a]=c}return this.childByKey[a]};b.prototype.retrieve=function a(){return this.get()};b.prototype.set=function b(a){if(!this.model)throw new Error( 'Unresolved reference expression. This should not happen!' );this.model.set(a)};b.prototype.unbind=function a(){this.resolvers.forEach(b_)};return b}(cu);function iC(a,b){if(b.r){return cx(a,b.r)}else if(b.x){return new iz( a, b.x )}else{return new iB( a, b.rx )}}function iD(a){if(a.template.z){a.aliases={};var b=a.template.z;for(var c=0;c<b.length;c++)a.aliases[b[c].n]=iC(a.parentFragment,b[c].x)}}var iE=function(a){function b(b){a.call(this,b);this.fragment=null}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){iD(this);this.fragment=new mg({owner:this,template:this.template.f}).bind()};b.prototype.detach=function a(){return this.fragment?this.fragment.detach():T()};b.prototype.find=function b(a){if(this.fragment){return this.fragment.find(a)}};b.prototype.findAll=function c(a,b){this.fragment&&this.fragment.findAll(a,b)};b.prototype.findComponent=function b(a){if(this.fragment){return this.fragment.findComponent(a)}};b.prototype.findAllComponents=function c(a,b){this.fragment&&this.fragment.findAllComponents(a,b)};b.prototype.firstNode=function b(a){return this.fragment&&this.fragment.firstNode(a)};b.prototype.rebind=function a(){iD(this);this.fragment&&this.fragment.rebind()};b.prototype.render=function b(a){this.rendered=!0;this.fragment&&this.fragment.render(a)};b.prototype.toString=function b(a){return this.fragment?this.fragment.toString(a):''};b.prototype.unbind=function a(){this.aliases={};this.fragment&&this.fragment.unbind()};b.prototype.unrender=function b(a){this.rendered&&this.fragment&&this.fragment.unrender(a);this.rendered=!1};b.prototype.update=function a(){this.dirty&&(this.dirty=!1,this.fragment.update())};return b}(iw);function iF(a,b,c,d){var e=a.__model;d&&e.shuffle(d)}var iG=['pop','push','reverse','shift','sort','splice','unshift'],iH=[];iG.forEach(function(a){var b=function(){var b=this,c=[],d=arguments.length;while(d--)c[d]=arguments[d];var e=cW(this.length,a,c),f=Array.prototype[a].apply(this,arguments);bh.start();this._ractive.setting=!0;var g=this._ractive.wrappers.length;while(g--)iF(b._ractive.wrappers[g],b,a,e);bh.end();this._ractive.setting=!1;return f};Y(iH,a,{value:b})});var iI,iJ;({}).__proto__?(iI=function(a){return a.__proto__=iH},iJ=function(a){return a.__proto__=Array.prototype}):(iI=function(a){var b=iG.length;while(b--){var c=iG[b];Y(a,c,{value:iH[c],configurable:!0})}},iJ=function(a){var b=iG.length;while(b--)delete a[iG[b]]});iI.unpatch=iJ;var iK=iI,iL='Something went wrong in a rather interesting way',iM={filter:function(a){return ac(a)&&(!a._ractive||!a._ractive.setting)},wrap:function(a,b,c){return new iN( a, b, c )}},iN=function c(a,b){this.root=a;this.value=b;this.__model=null;b._ractive||(Y(b,'_ractive',{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),iK(b));b._ractive.instances[a._guid]||(b._ractive.instances[a._guid]=0,b._ractive.instances.push(a));b._ractive.instances[a._guid]+=1;b._ractive.wrappers.push(this)};iN.prototype.get=function a(){return this.value};iN.prototype.teardown=function a(){var b,c,d,e,f;b=this.value;c=b._ractive;d=c.wrappers;e=c.instances;if(c.setting){return !1}f=d.indexOf(this);if(f===-1){throw new Error( iL )}d.splice(f,1);if(!d.length)delete b._ractive,iK.unpatch(this.value);else{e[this.root._guid]-=1;if(!e[this.root._guid]){f=e.indexOf(this.root);if(f===-1){throw new Error( iL )}e.splice(f,1)}}};var iO;try{Object.defineProperty({},'test',{get:function(){},set:function(){}}),iO={filter:function(a){return a&&typeof a==='object'},wrap:function(a,b,c){return new iS( a, b, c )}}}catch(a){iO=!1};var iP=iO;function iQ(a,b,c){if(a.set&&a.set.__magic){a.set.__magic.dependants.push({ractive:b,keypath:c});return a}var d,e=[{ractive:b,keypath:c}],f={get:function(){return'value' in a?a.value:a.get()},set:function(b){if(d)return;'value' in a?(a.value=b):a.set(b);d=!0;e.forEach(function(a){var c=a.ractive,d=a.keypath;c.set(d,b)});d=!1},enumerable:!0};f.set.__magic={dependants:e,originalDescriptor:a};return f}function iR(a,b,c){if(!a.set||!a.set.__magic)return !0;var d=a.set.__magic,e=d.length;while(e--){var f=d[e];if(f.ractive===b&&f.keypath===c){d.splice(e,1);return !1}}}var iS=function d(a,b,c){var e=this;this.ractive=a;this.value=b;this.keypath=c;this.originalDescriptors={};Object.keys(b).forEach(function(b){var d=Object.getOwnPropertyDescriptor(e.value,b);e.originalDescriptors[b]=d;var f=c?""+c+"."+aF(b):aF(b),g=iQ(d,a,f);Object.defineProperty(e.value,b,g)})};iS.prototype.get=function a(){return this.value};iS.prototype.reset=function a(){throw new Error( 'TODO magic adaptor reset' )};iS.prototype.set=function c(a,b){this.value[a]=b};iS.prototype.teardown=function a(){var b=this;Object.keys(this.value).forEach(function(a){var c=Object.getOwnPropertyDescriptor(b.value,a);if(!c.set||!c.set.__magic)return;iR(c);c.set.__magic.dependants.length===1&&Object.defineProperty(b.value,a,c.set.__magic.originalDescriptor)})};var iT=function d(a,b,c){this.value=b;this.magic=!0;this.magicWrapper=iP.wrap(a,b,c);this.arrayWrapper=iM.wrap(a,b,c);Object.defineProperty(this,'__model',{get:function(){return this.arrayWrapper.__model},set:function(a){this.arrayWrapper.__model=a}})};iT.prototype.get=function a(){return this.value};iT.prototype.teardown=function a(){this.arrayWrapper.teardown();this.magicWrapper.teardown()};iT.prototype.reset=function b(a){return this.magicWrapper.reset(a)};var iU={filter:function(a,b,c){return iP.filter(a,b,c)&&iM.filter(a)},wrap:function(a,b,c){return new iT( a, b, c )}};function iV(a){var b=a.replace(/^\t+/gm,function(a){return a.split('\t').join('  ')}).split('\n'),c=b.length<2?0:b.slice(1).reduce(function(a,b){return Math.min(a,/^\s*/.exec(b)[0].length)},Infinity);return b.map(function(a,b){return'    '+(b?a.substring(c):a)}).join('\n')}function iW(a){if(!a)return'';var b=a.split('\n'),c=iX.name+'.getValue',d=[],e=b.length;for(var f=1;f<e;f+=1){var g=b[f];if(~g.indexOf(c)){return d.join('\n')}else d.push(g)}}var iX=function(a){function b(b,c,d){a.call(this,null,null);this.root=this.parent=b;this.signature=c;this.key=d;this.isExpression=d&&d[0]==='@';this.isReadonly=!this.signature.setter;this.context=b.computationContext;this.dependencies=[];this.children=[];this.childByKey={};this.deps=[];this.boundsSensitive=!0;this.dirty=!0;this.shuffle=undefined}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.get=function b(a){a&&bS(this);this.dirty&&(this.dirty=!1,this.value=this.getValue(),this.adapt());return this.value};b.prototype.getValue=function a(){bQ();var b;try{b=this.signature.getter.call(this.context)}catch(a){ar(("Failed to compute "+this.getKeypath()+": "+(a.message||a)));if(q){console.groupCollapsed&&console.groupCollapsed('%cshow details','color: rgb(82, 140, 224); font-weight: normal; text-decoration: underline;');var c=iV(this.signature.getterString),d=this.signature.getterUseStack?'\n\n'+iW(a.stack):'';console.error((""+a.name+": "+a.message+"\n\n"+c+""+d));console.groupCollapsed&&console.groupEnd()}};var e=bR();this.setDependencies(e);return b};b.prototype.handleChange=function a(){this.dirty=!0;this.deps.forEach(bV);this.children.forEach(bV);this.clearUnresolveds()};b.prototype.joinKey=function b(a){if(a===undefined||a==='')return this;if(!this.childByKey.hasOwnProperty(a)){var c=new ix( this, a );this.children.push(c);this.childByKey[a]=c}return this.childByKey[a]};b.prototype.mark=function a(){this.handleChange()};b.prototype.set=function b(a){if(!this.signature.setter){throw new Error( ("Cannot set read-only computed value '"+this.key+"'") )}this.signature.setter(a)};b.prototype.setDependencies=function b(a){var c=this,d=this.dependencies.length;while(d--){var e=c.dependencies[d];~a.indexOf(e)||e.unregister(c)}d=a.length;while(d--){var f=a[d];~c.dependencies.indexOf(f)||f.register(c)}this.dependencies=a};b.prototype.teardown=function b(){var c=this,d=this.dependencies.length;while(d--){c.dependencies[d]&&c.dependencies[d].unregister(c)}this.root.computations[this.key]===this&&delete this.root.computations[this.key];a.prototype.teardown.call(this)};return b}(cu),iY=function(a){function b(b){a.call(this,null,'');this.value=b;this.isRoot=!0;this.root=this;this.adaptors=[];this.ractive=b;this.changes={}}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getKeypath=function a(){return'@ractive'};return b}(cu),iZ=Object.prototype.hasOwnProperty,i_=function(a){function b(b){a.call(this,null,null);this.changes={};this.isRoot=!0;this.root=this;this.ractive=b.ractive;this.value=b.data;this.adaptors=b.adapt;this.adapt();this.mappings={};this.computationContext=b.ractive;this.computations={}}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.applyChanges=function a(){this._changeHash={};this.flush();return this._changeHash};b.prototype.compute=function c(a,b){var d=new iX( this, b, a );this.computations[a]=d;return d};b.prototype.extendChildren=function b(a){var c=this.mappings;Object.keys(c).forEach(function(b){a(b,c[b])});var d=this.computations;Object.keys(d).forEach(function(b){var c=d[b];c.isExpression||a(b,c)})};b.prototype.get=function b(a){a&&bS(this);var c=_({},this.value);this.extendChildren(function(a,b){c[a]=b.value});return c};b.prototype.getKeypath=function a(){return''};b.prototype.getRactiveModel=function a(){return this.ractiveModel||(this.ractiveModel=new iY( this.ractive ))};b.prototype.getValueChildren=function b(){var c=a.prototype.getValueChildren.call(this,this.value);this.extendChildren(function(a,b){c.push(b)});return c};b.prototype.handleChange=function a(){this.deps.forEach(bV)};b.prototype.has=function b(a){if(a in this.mappings||a in this.computations)return !0;var c=this.value;a=aI(a);if(iZ.call(c,a))return !0;var d=c.constructor;while(d!==Function&&d!==Array&&d!==Object){if(iZ.call(d.prototype,a))return !0;d=d.constructor}return !1};b.prototype.joinKey=function c(b){if(b==='@global')return cw;if(b==='@ractive')return this.getRactiveModel();return this.mappings.hasOwnProperty(b)?this.mappings[b]:this.computations.hasOwnProperty(b)?this.computations[b]:a.prototype.joinKey.call(this,b)};b.prototype.map=function c(a,b){this.mappings[a]=b;b.register(this)};b.prototype.set=function b(a){var c=this.wrapper;if(c){var d=!c.reset||c.reset(a)===!1;d&&(c.teardown(),this.wrapper=null,this.value=a,this.adapt())}else this.value=a,this.adapt();this.deps.forEach(bV);this.children.forEach(bW);this.clearUnresolveds()};b.prototype.retrieve=function a(){return this.value};b.prototype.teardown=function b(){var c=this,d=Object.keys(this.mappings),e=d.length;while(e--){c.mappings[d[e]]&&c.mappings[d[e]].unregister(c)}a.prototype.teardown.call(this)};b.prototype.update=function a(){};b.prototype.updateFromBindings=function c(b){var d=this;a.prototype.updateFromBindings.call(this,b);b&&Object.keys(this.mappings).forEach(function(a){var c=d.mappings[a];c.updateFromBindings(b)})};return b}(cu);function i$(a,b,c){var d,e,f,g,h;typeof c==='function'&&(d=dB(c,a),f=c.toString(),g=!0);typeof c==='string'&&(d=hM(c,a),f=c);typeof c==='object'&&(typeof c.get==='string'?(d=hM(c.get,a),f=c.get):typeof c.get==='function'?(d=dB(c.get,a),f=c.get.toString(),g=!0):an('`%s` computation must have a `get()` method',b),typeof c.set==='function'&&(e=dB(c.set,a),h=c.set.toString()));return{getter:d,setter:e,getterString:f,setterString:h,getterUseStack:g}}var ja=new aN( 'construct' ),jb=['adaptors','components','decorators','easing','events','interpolators','partials','transitions'],jc=0;function jd(a,b){mP.DEBUG&&aj();jg(a);Y(a,'data',{get:jh});ja.fire(a,b);jb.forEach(function(c){a[c]=_(X(a.constructor[c]||null),b[c])});var c=new i_({adapt:jf(a,a.adapt,b),data:dD.init(a.constructor,a,b),ractive:a});a.viewmodel=c;var d=_(X(a.constructor.prototype.computed),b.computed);for(var e in d){var f=i$(a,e,d[e]);c.compute(e,f)}}function je(a,b){var c=a.slice(),d=b.length;while(d--){~c.indexOf(b[d])||c.push(b[d])}return c}function jf(a,b,c){b=b.map(g);var d=aR(c.adapt).map(g);d=je(b,d);var e='magic' in c?c.magic:a.magic,f='modifyArrays' in c?c.modifyArrays:a.modifyArrays;if(e){if(!u){throw new Error( 'Getters and setters (magic mode) are not supported in this browser' )}f&&d.push(iU);d.push(iP)}f&&d.push(iM);return d;function g(b){typeof b==='string'&&(b=aw('adaptors',a,b),b||an(av(b,'adaptor')));return b}}function jg(a){a._guid='r-'+jc++;a._subs=X(null);a._config={};a.nodes={};a.event=null;a._eventQueue=[];a._liveQueries=[];a._liveComponentQueries=[];a._observers=[];a._links={};a.component||(a.root=a,a.parent=a.container=null)}function jh(){throw new Error( 'Using `ractive.data` is no longer supported - you must use the `ractive.get()` API instead' )}function ji(a,b){return a[b._guid]||(a[b._guid]=[])}function jj(a,b){var c=ji(a.queue,b);a.hook.fire(b);while(c.length)jj(a,c.shift());delete a.queue[b._guid]}var jk=function b(a){this.hook=new aN( a );this.inProcess={};this.queue={}};jk.prototype.begin=function b(a){this.inProcess[a._guid]=!0};jk.prototype.end=function b(a){var c=a.parent;!c||!this.inProcess[c._guid]?jj(this,a):ji(this.queue,c).push(a);delete this.inProcess[a._guid]};var jl=new aN( 'config' ),jm=new jk( 'init' );function jn(a,b,c){Object.keys(a.viewmodel.computations).forEach(function(b){var c=a.viewmodel.computations[b];a.viewmodel.value.hasOwnProperty(b)&&c.set(a.viewmodel.value[b])});ii.init(a.constructor,a,b);jl.fire(a);jm.begin(a);var d;if(a.template){var e;(c.cssIds||a.cssId)&&(e=c.cssIds?c.cssIds.slice():[],a.cssId&&e.push(a.cssId));a.fragment=d=new mg({owner:a,template:a.template,cssIds:e}).bind(a.viewmodel)}jm.end(a);if(d){var f=U(a.el);if(f){var g=a.render(f,a.append);mP.DEBUG_PROMISES&&g['catch'](function(b){as('Promise debugging is enabled, to help solve errors that happen asynchronously. Some browsers will log unhandled promise rejections, in which case you can safely disable promise debugging:\n  Ractive.DEBUG_PROMISES = false;');ar('An error happened during rendering',{ractive:a});ao(b);throw b})}}}function jo(a){var b={},c={};while(a){if(a.parent&&(a.parent.indexRef||a.parent.keyRef)){var d=a.parent.indexRef;d&&!(d in c)&&(c[d]=a.index);d=a.parent.keyRef;d&&!(d in b)&&(b[d]=a.key)}a.componentParent&&!a.ractive.isolated?(a=a.componentParent):(a=a.parent)}return{key:b,index:c}}var jp=/^event(?:\.(.+))?$/,jq=/^arguments\.(\d*)$/,jr=/^\$(\d*)$/,js=function d(a,b,c){this.owner=a;this.event=b;this.template=c;this.ractive=a.parentFragment.ractive;this.parentFragment=a.parentFragment;this.context=null;this.passthru=!1;this.method=null;this.resolvers=null;this.models=null;this.argsFn=null;this.action=null;this.args=null};js.prototype.bind=function a(){var b=this;this.context=this.parentFragment.findContext();var c=this.template;c.m?(this.method=c.m,this.passthru=!!c.g,c.a&&(this.resolvers=[],this.models=c.a.r.map(function(a,c){if(jp.test(a)){return{event:!0,keys:a.length>5?aH(a.slice(6)):[],unbind:A}}var d=jq.exec(a);if(d){return{argument:!0,index:d[1]}}var e=jr.exec(a);if(e){return{argument:!0,index:e[1]-1}}var f,g=cx(b.parentFragment,a);g||(f=b.parentFragment.resolve(a,function(a){b.models[c]=a;aT(b.resolvers,f)}),b.resolvers.push(f));return g}),this.argsFn=dM(c.a.s,c.a.r.length))):(this.action=typeof c==='string'?c:typeof c.n==='string'?c.n:new mg({owner:this,template:c.n}),this.args=c.a?(typeof c.a==='string'?[c.a]:c.a):c.d?new mg({owner:this,template:c.d}):[]);this.template.n&&typeof this.template.n!=='string'&&this.action.bind();this.template.d&&this.args.bind()};js.prototype.bubble=function a(){this.dirty||(this.dirty=!0,this.owner.bubble())};js.prototype.fire=function c(a,b){b===void 0&&(b=[]);if(a){var d=jo(this.parentFragment);a.keypath=this.context.getKeypath(this.ractive);a.rootpath=this.context.getKeypath();a.context=this.context.get();a.index=d.index;a.key=d.key}if(this.method){if(typeof this.ractive[this.method]!=='function'){throw new Error( ("Attempted to call a non-existent method (\""+this.method+"\")") )}var e;a&&b.unshift(a);if(this.models){var f=this.models.map(function(c){if(!c)return undefined;if(c.event){var d=a,e=c.keys.slice();while(e.length)d=d[e.shift()];return d}if(c.argument){return b?b[c.index]:void 0}if(c.wrapper){return c.wrapper.value}return c.get()});e=this.argsFn.apply(null,f)}this.passthru&&(e=e?e.concat(b):b);var g=this.ractive,h=g.event;g.event=a;var i=g[this.method].apply(g,e),j;i===!1&&(j=a.original)&&(j.preventDefault&&j.preventDefault(),j.stopPropagation&&j.stopPropagation());g.event=h}else{var k=this.action.toString(),l=this.template.d?this.args.getArgsList():this.args;b.length&&(l=l.concat(b));a&&(a.name=k);bH(this.ractive,k,{event:a,args:l})}};js.prototype.rebind=function a(){this.unbind();this.bind()};js.prototype.render=function a(){this.event.listen(this)};js.prototype.unbind=function a(){var b=this.template;b.m?(this.resolvers&&this.resolvers.forEach(b_),this.resolvers=[],this.models=null):(this.action.unbind&&this.action.unbind(),this.args.unbind&&this.args.unbind())};js.prototype.unrender=function a(){this.event.unlisten()};js.prototype.update=function a(){if(this.method||!this.dirty)return;this.dirty=!1;this.action.update&&this.action.update();this.template.d&&this.args.update()};var jt=function c(a,b){this.ractive=a;this.name=b;this.handler=null};jt.prototype.listen=function b(a){var c=this.ractive;this.handler=c.on(this.name,function(){var b;arguments.length&&arguments[0]&&arguments[0].node&&(b=Array.prototype.shift.call(arguments),b.component=c);var d=Array.prototype.slice.call(arguments);a.fire(b,d);return !1})};jt.prototype.unlisten=function a(){this.handler.cancel()};function ju(a){var b=a.ractive;do {var c=b._liveComponentQueries,d=c.length;while(d--){var e=c[d],f=c[("_"+e)];f.test(a)&&(f.add(a.instance),a.liveQueries.push(f))}}while(b=b.parent)}function jv(a){var b=a.ractive;while(b){var c=b._liveComponentQueries[("_"+a.name)];c&&c.remove(a);b=b.parent}}function jw(a){a.makeDirty()}var jx=new aN( 'teardown' ),jy=function(a){function b(b,c){a.call(this,b);this.type=eb;var d=X(c.prototype);this.instance=d;this.name=b.template.e;this.parentFragment=b.parentFragment;this.complexMappings=[];this.liveQueries=[];d.el&&ar(("The <"+this.name+"> component has a default 'el' property; it has been disregarded"));var e=b.template.p||{};('content' in e)||(e.content=b.template.f||[]);this._partials=e;this.yielders={};var f=b.parentFragment,g;while(f){if(f.owner.type===ec){g=f.owner.container;break}f=f.parent}d.parent=this.parentFragment.ractive;d.container=g||null;d.root=d.parent.root;d.component=this;jd(this.instance,{partials:e});d._inlinePartials=e;this.eventHandlers=[];this.template.v&&this.setupEvents()}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){var b=this,c=this.instance.viewmodel,d=c.value;this.template.a&&Object.keys(this.template.a).forEach(function(a){var e=b.template.a[a],f,g;if(e===0)c.joinKey(a).set(!0);else if(typeof e==='string'){var h=g_(e);c.joinKey(a).set(h?h.value:e)}else ac(e)&&(e.length===1&&e[0].t===dT?(f=iC(b.parentFragment,e[0]),f||(as(("The "+a+"='{{"+e[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity"),{ractive:b.instance}),b.parentFragment.ractive.get(a),f=b.parentFragment.findContext().joinKey(a)),c.map(a,f),f.get()===undefined&&a in d&&f.set(d[a])):(g=new mg({owner:b,template:e}).bind(),f=c.joinKey(a),f.set(g.valueOf()),g.bubble=function(){mg.prototype.bubble.call(g);g.update();f.set(g.valueOf())},b.complexMappings.push(g)))});jn(this.instance,{partials:this._partials},{cssIds:this.parentFragment.cssIds});this.eventHandlers.forEach(bT)};b.prototype.bubble=function a(){this.dirty||(this.dirty=!0,this.parentFragment.bubble())};b.prototype.checkYielders=function a(){var b=this;Object.keys(this.yielders).forEach(function(a){if(b.yielders[a].length>1){bh.end();throw new Error( ("A component template can only have one {{yield"+(a?' '+a:'')+"}} declaration at a time") )}})};b.prototype.detach=function a(){return this.instance.fragment.detach()};b.prototype.find=function b(a){return this.instance.fragment.find(a)};b.prototype.findAll=function c(a,b){this.instance.fragment.findAll(a,b)};b.prototype.findComponent=function b(a){if(!a||this.name===a)return this.instance;if(this.instance.fragment){return this.instance.fragment.findComponent(a)}};b.prototype.findAllComponents=function c(a,b){b.test(this)&&(b.add(this.instance),b.live&&this.liveQueries.push(b));this.instance.fragment.findAllComponents(a,b)};b.prototype.firstNode=function b(a){return this.instance.fragment.firstNode(a)};b.prototype.rebind=function a(){var b=this;this.complexMappings.forEach(bY);this.liveQueries.forEach(jw);var c=this.instance.viewmodel;c.mappings={};this.template.a&&Object.keys(this.template.a).forEach(function(a){var d=b.template.a[a],e;ac(d)&&d.length===1&&d[0].t===dT&&(e=iC(b.parentFragment,d[0]),e||(as(("The "+a+"='{{"+d[0].r+"}}' mapping is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity"),{ractive:b.instance}),b.parentFragment.ractive.get(a),e=b.parentFragment.findContext().joinKey(a)),c.map(a,e))});this.instance.fragment.rebind(c)};b.prototype.render=function c(a,b){dk(this.instance,a,null,b);this.checkYielders();this.eventHandlers.forEach(bX);ju(this);this.rendered=!0};b.prototype.setupEvents=function a(){var b=this,c=this.eventHandlers;Object.keys(this.template.v).forEach(function(a){var d=a.split('-'),e=b.template.v[a];d.forEach(function(a){var d=new jt( b.instance, a );c.push(new js( b, d, e ))})})};b.prototype.toString=function a(){return this.instance.toHTML()};b.prototype.unbind=function a(){this.complexMappings.forEach(b_);var b=this.instance;b.viewmodel.teardown();b.fragment.unbind();b._observers.forEach(bU);jv(this);b.fragment.rendered&&b.el.__ractive_instances__&&aT(b.el.__ractive_instances__,b);Object.keys(b._links).forEach(function(a){return b._links[a].unlink()});jx.fire(b)};b.prototype.unrender=function b(a){var c=this;this.shouldDestroy=a;this.instance.unrender();this.eventHandlers.forEach(b$);this.liveQueries.forEach(function(a){return a.remove(c.instance)})};b.prototype.update=function a(){this.dirty=!1;this.instance.fragment.update();this.checkYielders();this.eventHandlers.forEach(cb);this.complexMappings.forEach(cb)};return b}(iw),jz=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){};b.prototype.render=function a(){};b.prototype.teardown=function a(){};b.prototype.toString=function a(){return'<!DOCTYPE'+this.template.a+'>'};b.prototype.unbind=function a(){};b.prototype.unrender=function a(){};return b}(iw);function jA(a){return a.replace(/-([a-zA-Z])/g,function(a,b){return b.toUpperCase()})}var jB=/\s+/,jC={'float':'cssFloat'},jD=/\/\*(?:[\s\S]*?)\*\//g,jE=/url\(\s*(['"])(?:\\[\s\S]|(?!\1).)*\1\s*\)|url\((?:\\[\s\S]|[^)])*\)|(['"])(?:\\[\s\S]|(?!\1).)*\2/gi,jF=/\0(\d+)/g;function jG(a){var b=[];return a.replace(jE,function(a){return "\u0000"+(b.push(a)-1)}).replace(jD,'').split(';').filter(function(a){return!!a.trim()}).map(function(a){return a.replace(jF,function(a,c){return b[c]})}).reduce(function(a,b){var c=b.indexOf(':'),d=jA(b.substr(0,c).trim());a[jC[d]||d]=b.substr(c+1).trim();return a},{})}function jH(a){var b=a.split(jB),c=b.length;while(c--){b[c]||b.splice(c,1)}return b}var jI=[undefined,'text','search','url','email','hidden','password','search','reset','submit'];function jJ(a){var b=a.element,c=a.name;if(c==='id')return jK;if(c==='value'){if(b.name==='select'&&c==='value'){return b.getAttribute('multiple')?jL:jM}if(b.name==='textarea')return jQ;if(b.getAttribute('contenteditable')!=null)return jN;if(b.name==='input'){var d=b.getAttribute('type');if(d==='file')return A;if(d==='radio'&&b.binding&&b.binding.attribute.name==='name')return jO;if(~jI.indexOf(d))return jQ}return jP}var e=b.node;if(a.isTwoway&&c==='name'){if(e.type==='radio')return jR;if(e.type==='checkbox')return jS}if(c==='style')return jT;if(c.indexOf('style-')===0)return jV;if(c==='class'&&(!e.namespaceURI||e.namespaceURI===D))return jW;if(c.indexOf('class-')===0)return jX;if(a.isBoolean)return jY;if(a.namespace&&a.namespace!==a.node.namespaceURI)return j_;return jZ}function jK(){var a=this,b=a.node,c=this.getValue();delete this.ractive.nodes[b.id];this.ractive.nodes[c]=b;b.id=c}function jL(){var a=this.getValue();ac(a)||(a=[a]);var b=this.node.options,c=b.length;while(c--){var d=b[c],e=d._ractive?d._ractive.value:d.value;d.selected=aP(a,e)}}function jM(){var a=this.getValue();if(!this.locked){this.node._ractive.value=a;var b=this.node.options,c=b.length;while(c--){var d=b[c],e=d._ractive?d._ractive.value:d.value;if(e==a){d.selected=!0;return}}this.node.selectedIndex=-1}}function jN(){var a=this.getValue();this.locked||(this.node.innerHTML=a===undefined?'':a)}function jO(){var a=this.node,b=a.checked,c=this.getValue();a.value=this.node._ractive.value=c;a.checked=c===this.element.getAttribute('name');b&&!a.checked&&this.element.binding&&this.element.binding.rendered&&this.element.binding.group.model.set(this.element.binding.group.getValue())}function jP(){if(!this.locked){var a=this.getValue();this.node.value=this.node._ractive.value=a;this.node.setAttribute('value',a)}}function jQ(){if(!this.locked){var a=this.getValue();this.node._ractive.value=a;this.node.value=W(a);this.node.setAttribute('value',W(a))}}function jR(){this.node.checked=this.getValue()==this.node._ractive.value}function jS(){var a=this,b=a.element,c=a.node,d=b.binding,e=this.getValue(),f=b.getAttribute('value');if(!ac(e))d.isChecked=c.checked=e==f;else{var g=e.length;while(g--){if(f==e[g]){d.isChecked=c.checked=!0;return}}d.isChecked=c.checked=!1}}function jT(){var a=jG(this.getValue()||''),b=this.node.style,c=Object.keys(a),d=this.previous||[],e=0;while(e<c.length){c[e] in b&&(b[c[e]]=a[c[e]]),e++}e=d.length;while(e--){!~c.indexOf(d[e])&&d[e] in b&&(b[d[e]]='')}this.previous=c}var jU=/(-.)/g;function jV(){this.styleName||(this.styleName=this.name.substr(6).replace(jU,function(a){return a.charAt(1).toUpperCase()}));this.node.style[this.styleName]=this.getValue()}function jW(){var a=jH(W(this.getValue())),b=jH(this.node.className),c=this.previous||[],d=0;while(d<a.length){~b.indexOf(a[d])||b.push(a[d]),d++}d=c.length;while(d--){if(!~a.indexOf(c[d])){var e=b.indexOf(c[d]);~e&&b.splice(e,1)}}this.node.className=b.join(' ');this.previous=a}function jX(){var a=this.name.substr(6),b=jH(this.node.className),c=this.getValue();c&&!~b.indexOf(a)?b.push(a):!c&&~b.indexOf(a)&&b.splice(b.indexOf(a),1);this.node.className=b.join(' ')}function jY(){this.locked||(this.useProperty?(this.node[this.propertyName]=this.getValue()):this.getValue()?this.node.setAttribute(this.propertyName,''):this.node.removeAttribute(this.propertyName))}function jZ(){this.node.setAttribute(this.name,W(this.getString()))}function j_(){this.node.setAttributeNS(this.namespace,this.name.slice(this.name.indexOf(':')+1),W(this.getString()))}var j$={'accept-charset':'acceptCharset',accesskey:'accessKey',bgcolor:'bgColor','class':'className',codebase:'codeBase',colspan:'colSpan',contenteditable:'contentEditable',datetime:'dateTime',dirname:'dirName','for':'htmlFor','http-equiv':'httpEquiv',ismap:'isMap',maxlength:'maxLength',novalidate:'noValidate',pubdate:'pubDate',readonly:'readOnly',rowspan:'rowSpan',tabindex:'tabIndex',usemap:'useMap'};function ka(a,b){var c="xmlns:"+b;while(a){if(a.hasAttribute(c))return a.getAttribute(c);a=a.parentNode}return J[b]}var kb=function(a){function b(b){a.call(this,b);this.name=b.name;this.namespace=null;this.element=b.element;this.parentFragment=b.element.parentFragment;this.ractive=this.parentFragment.ractive;this.rendered=!1;this.updateDelegate=null;this.fragment=null;this.value=null;ac(b.template)?(this.fragment=new mg({owner:this,template:b.template})):(this.value=b.template,this.value===0&&(this.value=''));this.interpolator=this.fragment&&this.fragment.items.length===1&&this.fragment.items[0].type===dT&&this.fragment.items[0]}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){this.fragment&&this.fragment.bind()};b.prototype.bubble=function a(){this.dirty||(this.element.bubble(),this.dirty=!0)};b.prototype.getString=function a(){return this.fragment?this.fragment.toString():this.value!=null?''+this.value:''};b.prototype.getValue=function a(){return this.fragment?this.fragment.valueOf():gc.test(this.name)?!0:this.value};b.prototype.rebind=function a(){this.fragment&&this.fragment.rebind()};b.prototype.render=function a(){var b=this.element.node;this.node=b;(!b.namespaceURI||b.namespaceURI===J.html)&&(this.propertyName=j$[this.name]||this.name,b[this.propertyName]!==undefined&&(this.useProperty=!0),(gc.test(this.name)||this.isTwoway)&&(this.isBoolean=!0),this.propertyName==='value'&&(b._ractive.value=this.value));if(b.namespaceURI){var c=this.name.indexOf(':');c!==-1?(this.namespace=ka(b,this.name.slice(0,c))):(this.namespace=b.namespaceURI)}this.rendered=!0;this.updateDelegate=jJ(this);this.updateDelegate()};b.prototype.toString=function a(){var b=this.getValue();if(this.name==='value'&&(this.element.getAttribute('contenteditable')!==undefined||(this.element.name==='select'||this.element.name==='textarea'))){return}if(this.name==='name'&&this.element.name==='input'&&this.interpolator&&this.element.getAttribute('type')==='radio'){return "name=\"{{"+this.interpolator.model.getKeypath()+"}}\""}if(gc.test(this.name))return b?this.name:'';if(b==null)return'';var c=W(this.getString()).replace(/&/g,'&amp;').replace(/"/g,'&quot;').replace(/'/g,'&#39;');return c?""+this.name+"=\""+c+"\"":this.name};b.prototype.unbind=function a(){this.fragment&&this.fragment.unbind()};b.prototype.update=function a(){this.dirty&&(this.dirty=!1,this.fragment&&this.fragment.update(),this.rendered&&this.updateDelegate())};return b}(iw),kc=j?K('div'):null,kd=function(b){function c(a){b.call(this,a);this.attributes=[];this.owner=a.owner;this.fragment=new mg({ractive:this.ractive,owner:this,template:[this.template]});this.dirty=!1}c.prototype=Object.create(b&&b.prototype);c.prototype.constructor=c;c.prototype.bind=function a(){this.fragment.bind()};c.prototype.bubble=function a(){this.dirty||(this.dirty=!0,this.owner.bubble())};c.prototype.rebind=function a(){this.fragment.rebind()};c.prototype.render=function a(){this.node=this.owner.node;this.isSvg=this.node.namespaceURI===F;this.rendered=!0;this.dirty=!0;this.update()};c.prototype.toString=function a(){return this.fragment.toString()};c.prototype.unbind=function a(){this.fragment.unbind()};c.prototype.unrender=function a(){this.rendered=!1};c.prototype.update=function b(){var c=this,d,e;this.dirty&&(this.dirty=!1,this.fragment.update(),this.rendered&&(d=this.fragment.toString(),e=ke(d,this.isSvg),this.attributes.filter(function(a){return kf(e,a)}).forEach(function(a){c.node.removeAttribute(a.name)}),e.forEach(function(a){c.node.setAttribute(a.name,a.value)}),this.attributes=e))};return c}(iw);function ke(a,b){var c=b?'svg':'div';return a?(kc.innerHTML="<"+c+" "+a+"></"+c+">")&&aU(kc.childNodes[0].attributes):[]}function kf(a,b){var c=a.length;while(c--){if(a[c].name===b.name){return !1}}return !0}var kg={update:A,teardown:A},kh=function c(a,b){this.owner=a;this.template=b;this.parentFragment=a.parentFragment;this.ractive=a.ractive;this.dynamicName=typeof b.n==='object';this.dynamicArgs=!!b.d;this.dynamicName?(this.nameFragment=new mg({owner:this,template:b.n})):(this.name=b.n||b);this.dynamicArgs?(this.argsFragment=new mg({owner:this,template:b.d})):(this.args=b.a||[]);this.node=null;this.intermediary=null};kh.prototype.bind=function a(){this.dynamicName&&(this.nameFragment.bind(),this.name=this.nameFragment.toString());this.dynamicArgs&&this.argsFragment.bind()};kh.prototype.bubble=function a(){this.dirty||(this.dirty=!0,this.owner.bubble())};kh.prototype.rebind=function a(){this.dynamicName&&this.nameFragment.rebind();this.dynamicArgs&&this.argsFragment.rebind()};kh.prototype.render=function a(){var b=aw('decorators',this.ractive,this.name);if(!b){aq(av(this.name,'decorator'));this.intermediary=kg;return}this.node=this.owner.node;var c=this.dynamicArgs?this.argsFragment.getArgsList():this.args;this.intermediary=b.apply(this.ractive,[this.node].concat(c));if(!this.intermediary||!this.intermediary.teardown){throw new Error( ("The '"+this.name+"' decorator must return an object with a teardown method") )}};kh.prototype.unbind=function a(){this.dynamicName&&this.nameFragment.unbind();this.dynamicArgs&&this.argsFragment.unbind()};kh.prototype.unrender=function a(){this.intermediary&&this.intermediary.teardown()};kh.prototype.update=function a(){if(!this.dirty)return;this.dirty=!1;var b=!1;if(this.dynamicName&&this.nameFragment.dirty){var c=this.nameFragment.toString();b=c!==this.name;this.name=c}if(this.intermediary){if(b||!this.intermediary.update)this.unrender(),this.render();else{if(this.dynamicArgs){if(this.argsFragment.dirty){var d=this.argsFragment.getArgsList();this.intermediary.update.apply(this.ractive,d)}}else this.intermediary.update.apply(this.ractive,this.args)}}this.dynamicName&&this.nameFragment.dirty&&this.nameFragment.update();this.dynamicArgs&&this.argsFragment.dirty&&this.argsFragment.update()};var ki=function c(a,b){a.indexOf('*')!==-1&&an(("Only component proxy-events may contain \"*\" wildcards, <"+b.name+" on-"+a+"=\"...\"/> is not valid"));this.name=a;this.owner=b;this.node=null;this.handler=null};ki.prototype.listen=function b(a){var c=this.node=this.owner.node,d=this.name;("on"+d in c)||aq(av(d,'events'));c.addEventListener(d,this.handler=function(b){a.fire({node:c,original:b})},!1)};ki.prototype.unlisten=function a(){this.node.removeEventListener(this.name,this.handler,!1)};var kj=function c(a,b){this.eventPlugin=a;this.owner=b;this.handler=null};kj.prototype.listen=function b(a){var c=this.owner.node;this.handler=this.eventPlugin(c,function(b){b===void 0&&(b={});b.node=b.node||c;a.fire(b)})};kj.prototype.unlisten=function a(){this.handler.teardown()};var kk;if(!l)kk=null;else{var kl={},km=K('div').style;kk=function(a){a=jA(a);if(!kl[a]){if(km[a]!==undefined)kl[a]=a;else{var b=a.charAt(0).toUpperCase()+a.substring(1),c=z.length;while(c--){var d=z[c];if(km[d+b]!==undefined){kl[a]=d+b;break}}}}return kl[a]}}var kn=kk,ko,kp='hidden';if(j){var kq;if(kp in j)kq='';else{var kr=z.length;while(kr--){var ks=z[kr];kp=ks+'Hidden';if(kp in j){kq=ks;break}}}kq!==undefined?(j.addEventListener(kq+'visibilitychange',kt),kt()):('onfocusout' in j?(j.addEventListener('focusout',ku),j.addEventListener('focusin',kv)):(i.addEventListener('pagehide',ku),i.addEventListener('blur',ku),i.addEventListener('pageshow',kv),i.addEventListener('focus',kv)),ko=!0)}function kt(){ko=!j[kp]}function ku(){ko=!1}function kv(){ko=!0}var kw=new RegExp( '^-(?:'+z.join('|')+')-' );function kx(a){return a.replace(kw,'')}var ky=new RegExp( '^(?:'+z.join('|')+')([A-Z])' );function kz(a){if(!a)return'';ky.test(a)&&(a='-'+a);return a.replace(/[A-Z]/g,function(a){return'-'+a.toLowerCase()})}var kA;if(!l)kA=null;else{var kB=K('div').style,kC=function(a){return a},kD={},kE={},kF,kG,kH,kI,kJ,kK;kB.transition!==undefined?(kF='transition',kG='transitionend',kH=!0):kB.webkitTransition!==undefined?(kF='webkitTransition',kG='webkitTransitionEnd',kH=!0):(kH=!1);kF&&(kI=kF+'Duration',kJ=kF+'Property',kK=kF+'TimingFunction');kA=function(a,b,c,d,e){setTimeout(function(){var f,g;function h(){f&&g&&(a.ractive.fire(a.name+':end',a.node,a.isIntro),e())}var i=(a.node.namespaceURI||'')+a.node.tagName,j=a.node.style,k={property:j[kJ],timing:j[kK],duration:j[kI]};j[kJ]=d.map(kn).map(kz).join(',');j[kK]=kz(c.easing||'linear');j[kI]=c.duration/1000+'s';function l(b){var c=d.indexOf(jA(kx(b.propertyName)));c!==-1&&d.splice(c,1);if(d.length){return}j[kJ]=k.property;j[kK]=k.duration;j[kI]=k.timing;a.node.removeEventListener(kG,l,!1);g=!0;h()}a.node.addEventListener(kG,l,!1);setTimeout(function(){var e=d.length,k,m,n,o=[],p,q,r;while(e--){p=d[e],k=i+p,kH&&!kE[k]&&(j[kn(p)]=b[p],kD[k]||(m=a.getStyle(p),kD[k]=a.getStyle(p)!=b[p],kE[k]=!kD[k],kE[k]&&(j[kn(p)]=m))),(!kH||kE[k])&&(m===undefined&&(m=a.getStyle(p)),n=d.indexOf(p),n===-1?ar('Something very strange happened with transitions. Please raise an issue at https://github.com/ractivejs/ractive/issues - thanks!',{node:a.node}):d.splice(n,1),q=/[^\d]*$/.exec(b[p])[0],r=ay(parseFloat(m),parseFloat(b[p]))||(function(){return b[p]}),o.push({name:kn(p),interpolator:r,suffix:q}))}if(o.length){var s;typeof c.easing==='string'?(s=a.ractive.easing[c.easing],s||(as(av(c.easing,'easing')),s=kC)):typeof c.easing==='function'?(s=c.easing):(s=kC);new ck({duration:c.duration,easing:s,step:function(b){var c=o.length;while(c--){var d=o[c];a.node.style[d.name]=d.interpolator(b)+d.suffix}},complete:function(){f=!0;h()}})}else f=!0;d.length||(a.node.removeEventListener(kG,l,!1),g=!0,h())},0)},c.delay||0)}}var kL=kA;function kM(a,b){b?a.setAttribute('style',b):(a.getAttribute('style'),a.removeAttribute('style'))}var kN=i&&(i.getComputedStyle||C.getComputedStyle),kO=aZ.resolve(),kP=function f(a,b,c,d,e){this.ractive=a;this.node=b;this.name=c;this.params=d;this.eventName=e;this.isIntro=e!=='outro';typeof c==='function'?(this._fn=c):(this._fn=aw('transitions',a,c),this._fn||as(av(c,'transition'),{ractive:a}))};kP.prototype.animateStyle=function d(a,b,c){var e=this;if(arguments.length===4){throw new Error( 't.animateStyle() returns a promise - use .then() instead of passing a callback' )}if(!ko){this.setStyle(a,b);return kO}var f;typeof a==='string'?(f={},f[a]=b):(f=a,c=b);c||(as('The "%s" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340',this.name),c=this);return new aZ( function(a){if(!c.duration){e.setStyle(f);a();return}var b=Object.keys(f),d=[],g=kN(e.node),h=b.length;while(h--){var i=b[h],j=g[kn(i)];j==='0px'&&(j=0);j!=f[i]&&(d.push(i),e.node.style[kn(i)]=j)}if(!d.length){a();return}kL(e,f,c,d,a)})};kP.prototype.getStyle=function b(a){var c=kN(this.node);if(typeof a==='string'){var d=c[kn(a)];return d==='0px'?0:d}if(!ac(a)){throw new Error( 'Transition$getStyle must be passed a string, or an array of strings representing CSS properties' )}var e={},f=a.length;while(f--){var g=a[f],h=c[kn(g)];h==='0px'&&(h=0);e[g]=h}return e};kP.prototype.processParams=function c(a,b){typeof a==='number'?(a={duration:a}):typeof a==='string'?(a==='slow'?(a={duration:600}):a==='fast'?(a={duration:200}):(a={duration:400})):a||(a={});return _({},b,a)};kP.prototype.setStyle=function c(a,b){if(typeof a==='string')this.node.style[kn(a)]=b;else{var d;for(d in a){a.hasOwnProperty(d)&&(this.node.style[kn(d)]=a[d])}}return this};kP.prototype.start=function a(){var b=this,c=this.node,d=c.getAttribute('style'),e;this.complete=function(a){if(e){return}!a&&b.eventName==='intro'&&kM(c,d);b._manager.remove(b);e=!0};if(!this._fn){this.complete();return}var f=this._fn.apply(this.ractive,[this].concat(this.params));f&&f.then(this.complete)};function kQ(a){var b=a.node,c=a.ractive;do {var d=c._liveQueries,e=d.length;while(e--){var f=d[e],g=d[("_"+f)];g.test(b)&&(g.add(b),a.liveQueries.push(g))}}while(c=c.parent)}function kR(a){while(a=a.parent){if(a.name==='form'){return a}}}function kS(a,b){as(("The "+a+" being used for two-way binding is ambiguous, and may cause unexpected results. Consider initialising your data to eliminate the ambiguity"),{ractive:b})}var kT=function c(a,b){b===void 0&&(b='value');this.element=a;this.ractive=a.ractive;this.attribute=a.attributeByName[b];var d=this.attribute.interpolator;d.twowayBinding=this;var e=d.model;if(!e)d.resolver.forceResolution(),e=d.model,kS(("'"+d.template.r+"' reference"),this.ractive);else if(e.isUnresolved)e.forceResolution(),kS('expression',this.ractive);else if(e.isReadonly){var f=e.getKeypath().replace(/^@/,'');as(("Cannot use two-way binding on <"+a.name+"> element: "+f+" is read-only. To suppress this warning use <"+a.name+" twoway='false'...>"),{ractive:this.ractive});return !1}this.attribute.isTwoway=!0;this.model=e;var g=e.get();this.wasUndefined=g===undefined;g===undefined&&this.getInitialValue&&(g=this.getInitialValue(),e.set(g));var h=kR(a);h&&(this.resetValue=g,h.formBindings.push(this))};kT.prototype.bind=function a(){this.model.registerTwowayBinding(this)};kT.prototype.handleChange=function a(){var b=this;bh.start(this.root);this.attribute.locked=!0;this.model.set(this.getValue());bh.scheduleTask(function(){return b.attribute.locked=!1});bh.end()};kT.prototype.rebind=function a(){this.unbind();this.model=this.attribute.interpolator.model;this.bind()};kT.prototype.render=function a(){this.node=this.element.node;this.node._ractive.binding=this;this.rendered=!0};kT.prototype.setFromNode=function b(a){this.model.set(a.value)};kT.prototype.unbind=function a(){this.model.unregisterTwowayBinding(this)};kT.prototype.unrender=function a(){};function kU(){this._ractive.binding.handleChange()}var kV=function(a){function b(b){a.call(this,b,'checked')}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function b(){a.prototype.render.call(this);this.node.addEventListener('change',kU,!1);this.node.attachEvent&&this.node.addEventListener('click',kU,!1)};b.prototype.unrender=function a(){this.node.removeEventListener('change',kU,!1);this.node.removeEventListener('click',kU,!1)};b.prototype.getInitialValue=function a(){return!!this.element.getAttribute('checked')};b.prototype.getValue=function a(){return this.node.checked};b.prototype.setFromNode=function b(a){this.model.set(a.checked)};return b}(kT);function kW(a,b,c){var d=""+a+"-bindingGroup";return b[d]||(b[d]=new kX( d, b, c ))}var kX=function d(a,b,c){var e=this;this.model=b;this.hash=a;this.getValue=function(){e.value=c.call(e);return e.value};this.bindings=[]};kX.prototype.add=function b(a){this.bindings.push(a)};kX.prototype.bind=function a(){this.value=this.model.get();this.model.registerTwowayBinding(this);this.bound=!0};kX.prototype.remove=function b(a){aT(this.bindings,a);this.bindings.length||this.unbind()};kX.prototype.unbind=function a(){this.model.unregisterTwowayBinding(this);this.bound=!1;delete this.model[this.hash]};var kY=[].push;function kZ(){var a=this.bindings.filter(function(a){return a.node&&a.node.checked}).map(function(a){return a.element.getAttribute('value')}),c=[];a.forEach(function(a){aP(c,a)||c.push(a)});return c}var k_=function(a){function b(b){a.call(this,b,'name');this.checkboxName=!0;this.group=kW('checkboxes',this.model,kZ);this.group.add(this);this.noInitialValue&&(this.group.noInitialValue=!0);if(this.group.noInitialValue&&this.element.getAttribute('checked')){var c=this.model.get(),d=this.element.getAttribute('value');aP(c,d)||kY.call(c,d)}}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){this.group.bound||this.group.bind()};b.prototype.changed=function a(){var b=!!this.isChecked;this.isChecked=this.node.checked;return this.isChecked===b};b.prototype.getInitialValue=function a(){this.noInitialValue=!0;return[]};b.prototype.getValue=function a(){return this.group.value};b.prototype.handleChange=function b(){this.isChecked=this.element.node.checked;this.group.value=this.model.get();var c=this.element.getAttribute('value');this.isChecked&&!aP(this.group.value,c)?this.group.value.push(c):!this.isChecked&&aP(this.group.value,c)&&aT(this.group.value,c);a.prototype.handleChange.call(this)};b.prototype.render=function b(){a.prototype.render.call(this);var c=this.node,d=this.model.get(),e=this.element.getAttribute('value');ac(d)?(this.isChecked=aP(d,e)):(this.isChecked=d==e);c.name='{{'+this.model.getKeypath()+'}}';c.checked=this.isChecked;c.addEventListener('change',kU,!1);c.attachEvent&&c.addEventListener('click',kU,!1)};b.prototype.setFromNode=function b(a){this.group.bindings.forEach(function(a){return a.wasUndefined=!0});if(a.checked){var c=this.group.getValue();c.push(this.element.getAttribute('value'));this.group.model.set(c)}};b.prototype.unbind=function a(){this.group.remove(this)};b.prototype.unrender=function a(){var b=this.element.node;b.removeEventListener('change',kU,!1);b.removeEventListener('click',kU,!1)};return b}(kT),k$=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getInitialValue=function a(){return this.element.fragment?this.element.fragment.toString():''};b.prototype.getValue=function a(){return this.element.node.innerHTML};b.prototype.render=function b(){a.prototype.render.call(this);var c=this.node;c.addEventListener('change',kU,!1);c.addEventListener('blur',kU,!1);this.ractive.lazy||(c.addEventListener('input',kU,!1),c.attachEvent&&c.addEventListener('keyup',kU,!1))};b.prototype.setFromNode=function b(a){this.model.set(a.innerHTML)};b.prototype.unrender=function a(){var b=this.node;b.removeEventListener('blur',kU,!1);b.removeEventListener('change',kU,!1);b.removeEventListener('input',kU,!1);b.removeEventListener('keyup',kU,!1)};return b}(kT);function la(){kU.call(this);var a=this._ractive.binding.model.get();this.value=a==undefined?'':a}function lb(a){var b;return function(){var c=this;b&&clearTimeout(b);b=setTimeout(function(){var a=c._ractive.binding;a.rendered&&kU.call(c);b=null},a)}}var lc=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getInitialValue=function a(){return''};b.prototype.getValue=function a(){return this.node.value};b.prototype.render=function b(){a.prototype.render.call(this);var c=this.ractive.lazy,d=!1;this.element.template.a&&'lazy' in this.element.template.a&&(c=this.element.template.a.lazy,c===0&&(c=!0));c==='false'&&(c=!1);ae(c)&&(d=+c,c=!1);this.handler=d?lb(d):kU;var e=this.node;e.addEventListener('change',kU,!1);c||(e.addEventListener('input',this.handler,!1),e.attachEvent&&e.addEventListener('keyup',this.handler,!1));e.addEventListener('blur',la,!1)};b.prototype.unrender=function a(){var b=this.element.node;this.rendered=!1;b.removeEventListener('change',kU,!1);b.removeEventListener('input',this.handler,!1);b.removeEventListener('keyup',this.handler,!1);b.removeEventListener('blur',la,!1)};return b}(kT);function ld(a){return a.selectedOptions?aU(a.selectedOptions):a.options?aU(a.options).filter(function(a){return a.selected}):[]}var le=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.forceUpdate=function a(){var b=this,c=this.getValue();c!==undefined&&(this.attribute.locked=!0,bh.scheduleTask(function(){return b.attribute.locked=!1}),this.model.set(c))};b.prototype.getInitialValue=function a(){return this.element.options.filter(function(a){return a.getAttribute('selected')}).map(function(a){return a.getAttribute('value')})};b.prototype.getValue=function a(){var b=this.element.node.options,c=b.length,d=[];for(var e=0;e<c;e+=1){var f=b[e];if(f.selected){var g=f._ractive?f._ractive.value:f.value;d.push(g)}}return d};b.prototype.handleChange=function b(){var c=this.attribute,d=c.getValue(),e=this.getValue();(d===undefined||!aQ(e,d))&&a.prototype.handleChange.call(this);return this};b.prototype.render=function b(){a.prototype.render.call(this);this.node.addEventListener('change',kU,!1);this.model.get()===undefined&&this.handleChange()};b.prototype.setFromNode=function b(a){var c=ld(a),d=c.length,e=new Array( d );while(d--){var f=c[d];e[d]=f._ractive?f._ractive.value:f.value}this.model.set(e)};b.prototype.setValue=function a(){throw new Error( 'TODO not implemented yet' )};b.prototype.unrender=function a(){this.node.removeEventListener('change',kU,!1)};b.prototype.updateModel=function a(){(this.attribute.value===undefined||!this.attribute.value.length)&&this.keypath.set(this.initialValue)};return b}(kT),lf=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getInitialValue=function a(){return undefined};b.prototype.getValue=function a(){var b=parseFloat(this.node.value);return isNaN(b)?undefined:b};b.prototype.setFromNode=function b(a){var c=parseFloat(a.value);isNaN(c)||this.model.set(c)};return b}(lc),lg={};function lh(a){return lg[a]||(lg[a]=[])}var li=function(a){function b(b){a.call(this,b,'checked');this.siblings=lh(this.ractive._guid+this.element.getAttribute('name'));this.siblings.push(this)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.getValue=function a(){return this.node.checked};b.prototype.handleChange=function a(){bh.start(this.root);this.siblings.forEach(function(a){a.model.set(a.getValue())});bh.end()};b.prototype.render=function b(){a.prototype.render.call(this);this.node.addEventListener('change',kU,!1);this.node.attachEvent&&this.node.addEventListener('click',kU,!1)};b.prototype.setFromNode=function b(a){this.model.set(a.checked)};b.prototype.unbind=function a(){aT(this.siblings,this)};b.prototype.unrender=function a(){this.node.removeEventListener('change',kU,!1);this.node.removeEventListener('click',kU,!1)};return b}(kT);function lj(){var a=this.bindings.filter(function(a){return a.node.checked});if(a.length>0){return a[0].element.getAttribute('value')}}var lk=function(a){function b(b){a.call(this,b,'name');this.group=kW('radioname',this.model,lj);this.group.add(this);b.checked&&(this.group.value=this.getValue())}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){var b=this;this.group.bound||this.group.bind();this.nameAttributeBinding={handleChange:function(){return b.node.name="{{"+b.model.getKeypath()+"}}"}};this.model.getKeypathModel().register(this.nameAttributeBinding)};b.prototype.getInitialValue=function a(){if(this.element.getAttribute('checked')){return this.element.getAttribute('value')}};b.prototype.getValue=function a(){return this.element.getAttribute('value')};b.prototype.handleChange=function b(){this.node.checked&&(this.group.value=this.getValue(),a.prototype.handleChange.call(this))};b.prototype.render=function b(){a.prototype.render.call(this);var c=this.node;c.name="{{"+this.model.getKeypath()+"}}";c.checked=this.model.get()==this.element.getAttribute('value');c.addEventListener('change',kU,!1);c.attachEvent&&c.addEventListener('click',kU,!1)};b.prototype.setFromNode=function b(a){a.checked&&this.group.model.set(this.element.getAttribute('value'))};b.prototype.unbind=function a(){this.group.remove(this);this.model.getKeypathModel().unregister(this.nameAttributeBinding)};b.prototype.unrender=function a(){var b=this.node;b.removeEventListener('change',kU,!1);b.removeEventListener('click',kU,!1)};return b}(kT),ll=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.forceUpdate=function a(){var b=this,c=this.getValue();c!==undefined&&(this.attribute.locked=!0,bh.scheduleTask(function(){return b.attribute.locked=!1}),this.model.set(c))};b.prototype.getInitialValue=function a(){if(this.element.getAttribute('value')!==undefined){return}var b=this.element.options,c=b.length;if(!c)return;var d,e,f=c;while(f--){var g=b[f];if(g.getAttribute('selected')){g.getAttribute('disabled')||(d=g.getAttribute('value'));e=!0;break}}if(!e){while(++f<c){if(!b[f].getAttribute('disabled')){d=b[f].getAttribute('value');break}}}d!==undefined&&(this.element.attributeByName.value.value=d);return d};b.prototype.getValue=function a(){var b=this.node.options,c=b.length,d;for(d=0;d<c;d+=1){var e=b[d];if(b[d].selected&&!b[d].disabled){return e._ractive?e._ractive.value:e.value}}};b.prototype.render=function b(){a.prototype.render.call(this);this.node.addEventListener('change',kU,!1)};b.prototype.setFromNode=function b(a){var c=ld(a)[0];this.model.set(c._ractive?c._ractive.value:c.value)};b.prototype.setValue=function b(a){this.model.set(a)};b.prototype.unrender=function a(){this.node.removeEventListener('change',kU,!1)};return b}(kT);function lm(a){return a&&a.template.length===1&&a.template[0].t===dT&&!a.template[0].s}function ln(a){var b=a.attributeByName;if(a.getAttribute('contenteditable')||lm(b.contenteditable)){return lm(b.value)?k$:null}if(a.name==='input'){var c=a.getAttribute('type');if(c==='radio'||c==='checkbox'){var d=lm(b.name),e=lm(b.checked);if(d&&e){if(c==='radio')ar('A radio input can have two-way binding on its name attribute, or its checked attribute - not both',{ractive:a.root});else{return kV}}if(d){return c==='radio'?lk:k_}if(e){return c==='radio'?li:kV}}if(c==='file'&&lm(b.value)){return kT}if(lm(b.value)){returnc==='number'||c==='range'?lf:lc}return null}if(a.name==='select'&&lm(b.value)){return a.getAttribute('multiple')?le:ll}if(a.name==='textarea'&&lm(b.value)){return lc}}function lo(a){a.makeDirty()}var lp=function(a){function b(b){var c=this;a.call(this,b);this.liveQueries=[];this.name=b.template.e.toLowerCase();this.isVoid=gd.test(this.name);var d=this.parentFragment;while(d){if(d.owner.type===dY){c.parent=d.owner;break}d=d.parent}if(this.parent&&this.parent.name==='option'){throw new Error( ("An <option> element cannot contain other elements (encountered <"+this.name+">)") )}this.attributeByName={};this.attributes=[];this.template.a&&(Object.keys(this.template.a).forEach(function(a){if(a==='twoway'||a==='lazy')return;var b=new kb({name:a,element:c,parentFragment:c.parentFragment,template:c.template.a[a]});c.attributeByName[a]=b;a!=='value'&&a!=='type'&&c.attributes.push(b)}),this.attributeByName.type&&this.attributes.unshift(this.attributeByName.type),this.attributeByName.value&&this.attributes.push(this.attributeByName.value));this.conditionalAttributes=(this.template.m||[]).map(function(a){return new kd({owner:c,parentFragment:c.parentFragment,template:a})});this.template.o&&(this.decorator=new kh( this, this.template.o ));this.eventHandlers=[];this.template.v&&Object.keys(this.template.v).forEach(function(a){var b=a.split('-'),d=c.template.v[a];b.forEach(function(a){var b=aw('events',c.ractive,a),e=b?new kj( b, c ):new ki( a, c );c.eventHandlers.push(new js( c, e, d ))})});b.template.f&&!b.noContent&&(this.fragment=new mg({template:b.template.f,owner:this,cssIds:null}));this.binding=null}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){this.attributes.forEach(bT);this.conditionalAttributes.forEach(bT);this.eventHandlers.forEach(bT);this.decorator&&this.decorator.bind();this.fragment&&this.fragment.bind();(this.binding=this.createTwowayBinding())&&this.binding.bind()};b.prototype.createTwowayBinding=function a(){var b=this.template.a;if(!b)return null;var c='twoway' in b?b.twoway===0||b.twoway==='true':this.ractive.twoway;if(!c)return null;var d=ln(this);if(!d)return null;var e=new d( this );return e&&e.model?e:null};b.prototype.detach=function a(){this.decorator&&this.decorator.unrender();return V(this.node)};b.prototype.find=function b(a){if(L(this.node,a))return this.node;if(this.fragment){return this.fragment.find(a)}};b.prototype.findAll=function c(a,b){var d=b.test(this.node);d&&(b.add(this.node),b.live&&this.liveQueries.push(b));this.fragment&&this.fragment.findAll(a,b)};b.prototype.findComponent=function b(a){if(this.fragment){return this.fragment.findComponent(a)}};b.prototype.findAllComponents=function c(a,b){this.fragment&&this.fragment.findAllComponents(a,b)};b.prototype.findNextNode=function a(){return null};b.prototype.firstNode=function a(){return this.node};b.prototype.getAttribute=function b(a){var c=this.attributeByName[a];return c?c.getValue():undefined};b.prototype.rebind=function a(){this.attributes.forEach(bY);this.conditionalAttributes.forEach(bY);this.eventHandlers.forEach(bY);this.decorator&&this.decorator.rebind();this.fragment&&this.fragment.rebind();this.binding&&this.binding.rebind();this.liveQueries.forEach(lo)};b.prototype.render=function c(a,b){var d=this;this.namespace=lw(this);var e,f=!1;if(b){var g;while(g=b.shift()){if(g.nodeName===d.template.e.toUpperCase()&&g.namespaceURI===d.namespace){d.node=e=g;f=!0;break}else V(g)}}e||(e=K(this.template.e,this.namespace,this.getAttribute('is')),this.node=e);Y(e,'_ractive',{value:{proxy:this,fragment:this.parentFragment}});this.parentFragment.cssIds&&e.setAttribute('data-ractive-css',this.parentFragment.cssIds.map(function(a){return "{"+a+"}"}).join(' '));f&&this.foundNode&&this.foundNode(e);if(this.fragment){var h=f?aU(e.childNodes):undefined;this.fragment.render(e,h);h&&h.forEach(V)}if(f){this.binding&&this.binding.wasUndefined&&this.binding.setFromNode(e);var i=e.attributes.length;while(i--){var j=e.attributes[i].name;(!d.template.a||!(j in d.template.a))&&e.removeAttribute(j)}}this.attributes.forEach(bX);this.conditionalAttributes.forEach(bX);this.decorator&&bh.scheduleTask(function(){return d.decorator.render()},!0);this.binding&&this.binding.render();this.eventHandlers.forEach(bX);kQ(this);this._introTransition=lq(this,this.template.t0||this.template.t1,'intro');f||a.appendChild(e);this.rendered=!0};b.prototype.toString=function a(){var b=this.template.e,c=this.attributes.map(lu).join('')+this.conditionalAttributes.map(lu).join('');this.name==='option'&&this.isSelected()&&(c+=' selected');this.name==='input'&&lt(this)&&(c+=' checked');var d="<"+b+""+c+">";if(this.isVoid)return d;this.name==='textarea'&&this.getAttribute('value')!==undefined?(d+=go(this.getAttribute('value'))):this.getAttribute('contenteditable')!==undefined&&(d+=this.getAttribute('value')||'');this.fragment&&(d+=this.fragment.toString(!/^(?:script|style)$/i.test(this.template.e)));d+="</"+b+">";return d};b.prototype.unbind=function a(){this.attributes.forEach(b_);this.conditionalAttributes.forEach(b_);this.decorator&&this.decorator.unbind();this.fragment&&this.fragment.unbind()};b.prototype.unrender=function b(a){if(!this.rendered)return;this.rendered=!1;var c=this._introTransition;c&&c.complete();this.name==='option'?this.detach():a&&bh.detachWhenReady(this);this.fragment&&this.fragment.unrender();this.eventHandlers.forEach(b$);this.binding&&this.binding.unrender();!a&&this.decorator&&this.decorator.unrender();lq(this,this.template.t0||this.template.t2,'outro');var d=this.attributeByName.id;d&&delete this.ractive.nodes[d.getValue()];lv(this)};b.prototype.update=function a(){this.dirty&&(this.dirty=!1,this.attributes.forEach(cb),this.conditionalAttributes.forEach(cb),this.eventHandlers.forEach(cb),this.decorator&&this.decorator.update(),this.fragment&&this.fragment.update())};return b}(iw);function lq(a,b,c){if(!b||!a.ractive.transitionsEnabled)return;var d=lr(a,b);if(!d)return;var e=ls(a,b),f=new kP( a.ractive, a.node, d, e, c );bh.registerTransition(f);return f}function lr(a,b){var c=b.n||b;if(typeof c==='string')return c;var d=new mg({owner:a,template:c}).bind();c=d.toString();d.unbind();return c}function ls(a,b){if(b.a)return b.a;if(!b.d)return;var c=new mg({owner:a,template:b.d}).bind(),d=c.getArgsList();c.unbind();return d}function lt(a){var b=a.attributeByName,c=b.type,d=b.value,e=b.name;if(!c||c.value!=='radio'||!d||!e.interpolator){return}if(d.getValue()===e.interpolator.model.get()){return !0}}function lu(a){var b=a.toString();return b?' '+b:''}function lv(a){var b=a.liveQueries.length;while(b--){var c=a.liveQueries[b];c.remove(a.node)}}function lw(a){var b=a.getAttribute('xmlns');if(b)return b;if(a.name==='svg')return F;var c=a.parent;if(c){if(c.name==='foreignobject')return D;return c.node.namespaceURI}return a.ractive.el.namespaceURI}var lx=function(a){function b(b){a.call(this,b);this.formBindings=[]}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function d(b,c){a.prototype.render.call(this,b,c);this.node.addEventListener('reset',ly,!1)};b.prototype.unrender=function c(b){this.node.removeEventListener('reset',ly,!1);a.prototype.unrender.call(this,b)};return b}(lp);function ly(){var a=this._ractive.proxy;bh.start();a.formBindings.forEach(lz);bh.end()}function lz(a){a.model.set(a.resetValue)}var lA=function(a){function b(b){a.call(this,b);this.parentFragment=b.parentFragment;this.template=b.template;this.index=b.index;this.isStatic=!!b.template.s;this.model=null;this.dirty=!1}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){var b=this,c=iC(this.parentFragment,this.template),d=c?c.get():undefined;if(this.isStatic){this.model={get:function(){return d}};return}c?(c.register(this),this.model=c):(this.resolver=this.parentFragment.resolve(this.template.r,function(a){b.model=a;a.register(b);b.handleChange();b.resolver=null}))};b.prototype.handleChange=function a(){this.bubble()};b.prototype.rebind=function a(){if(this.isStatic||!this.model)return;var b=iC(this.parentFragment,this.template);if(b===this.model)return;this.model.unregister(this);this.model=b;b&&(b.register(this),this.handleChange())};b.prototype.unbind=function a(){this.isStatic||(this.model&&this.model.unregister(this),this.model=undefined,this.resolver&&this.resolver.unbind())};return b}(iw),lB=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.detach=function a(){return V(this.node)};b.prototype.firstNode=function a(){return this.node};b.prototype.getString=function a(){return this.model?W(this.model.get()):''};b.prototype.render=function c(a,b){var d=this.getString();this.rendered=!0;if(b){var e=b[0];e&&e.nodeType===3?(b.shift(),e.nodeValue!==d&&(e.nodeValue=d)):(e=this.node=j.createTextNode(d),b[0]?a.insertBefore(e,b[0]):a.appendChild(e));this.node=e}else this.node=j.createTextNode(d),a.appendChild(this.node)};b.prototype.toString=function b(a){var c=this.getString();return a?go(c):c};b.prototype.unrender=function b(a){a&&this.detach();this.rendered=!1};b.prototype.update=function a(){this.dirty&&(this.dirty=!1,this.rendered&&(this.node.data=this.getString()))};b.prototype.valueOf=function a(){return this.model?this.model.get():undefined};return b}(lA),lC=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.render=function d(b,c){a.prototype.render.call(this,b,c);this.node.defaultValue=this.node.value};return b}(lp);function lD(a){while(a){if(a.name==='select')return a;a=a.parent}}var lE=function(a){function b(b){var c=b.template;c.a||(c.a={});c.a.value===undefined&&!('disabled' in c.a)&&(c.a.value=c.f||'');a.call(this,b);this.select=lD(this.parent)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function b(){if(!this.select){a.prototype.bind.call(this);return}var c=this.attributeByName.selected;if(c&&this.select.getAttribute('value')!==undefined){var d=this.attributes.indexOf(c);this.attributes.splice(d,1);delete this.attributeByName.selected}a.prototype.bind.call(this);this.select.options.push(this)};b.prototype.isSelected=function a(){var b=this.getAttribute('value');if(b===undefined||!this.select){return !1}var c=this.select.getAttribute('value');if(c==b){return !0}if(this.select.getAttribute('multiple')&&ac(c)){var d=c.length;while(d--){if(c[d]==b){return !0}}}};b.prototype.unbind=function b(){a.prototype.unbind.call(this);this.select&&aT(this.select.options,this)};return b}(lp);function lF(a,b,c){var d=lG(a,b,c||{});if(d)return d;d=hN.fromId(b,{noThrow:!0});if(d){var e=hN.parseFor(d,a);e.p&&$(a.partials,e.p);return a.partials[b]=e.t}}function lG(a,b,c){var d=lJ(b,c.owner);if(d)return d;var e=ax('partials',a,b);if(!e){return}d=e.partials[b];var f;typeof d==='function'&&(f=d.bind(e),f.isOwner=e.partials.hasOwnProperty(b),d=f.call(a,hN));if(!d&&d!==''){ar(au,b,'partial','partial',{ractive:a});return}if(!hN.isParsed(d)){var g=hN.parseFor(d,e);g.p&&ar('Partials ({{>%s}}) cannot contain nested inline partials',b,{ractive:a});var h=f?e:lH(e,b);h.partials[b]=d=g.t}f&&(d._fn=f);return d.v?d.t:d}function lH(a,b){return a.partials.hasOwnProperty(b)?a:lI(a.constructor,b)}function lI(a,b){if(!a){return}return a.partials.hasOwnProperty(b)?a:lI(a._Parent,b)}function lJ(a,b){if(b){if(b.template&&b.template.p&&b.template.p[a]){return b.template.p[a]}else if(b.parentFragment&&b.parentFragment.owner){return lJ(a,b.parentFragment.owner)}}}var lK=function(a){function b(){a.apply(this,arguments)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function b(){this.refName=this.template.r;var c=this.refName?lF(this.ractive,this.refName,this.parentFragment)||null:null,d;c&&(this.named=!0,this.setTemplate(this.template.r,c));c||(a.prototype.bind.call(this),this.model&&(d=this.model.get())&&typeof d==='object'&&(typeof d.template==='string'||ac(d.t))?(d.template&&(d=lL(this.template.r,d.template,this.ractive)),this.setTemplate(this.template.r,d.t)):(!this.model||typeof this.model.get()!=='string')&&this.refName?this.setTemplate(this.refName,c):this.setTemplate(this.model.get()));this.fragment=new mg({owner:this,template:this.partialTemplate}).bind()};b.prototype.detach=function a(){return this.fragment.detach()};b.prototype.find=function b(a){return this.fragment.find(a)};b.prototype.findAll=function c(a,b){this.fragment.findAll(a,b)};b.prototype.findComponent=function b(a){return this.fragment.findComponent(a)};b.prototype.findAllComponents=function c(a,b){this.fragment.findAllComponents(a,b)};b.prototype.firstNode=function b(a){return this.fragment.firstNode(a)};b.prototype.forceResetTemplate=function a(){this.partialTemplate=undefined;this.refName&&(this.partialTemplate=lF(this.ractive,this.refName,this.parentFragment));this.partialTemplate||(this.partialTemplate=lF(this.ractive,this.name,this.parentFragment));this.partialTemplate||(as(("Could not find template for partial '"+this.name+"'")),this.partialTemplate=[]);this.fragment.resetTemplate(this.partialTemplate);this.bubble()};b.prototype.rebind=function b(){a.prototype.unbind.call(this);a.prototype.bind.call(this);this.fragment.rebind()};b.prototype.render=function c(a,b){this.fragment.render(a,b)};b.prototype.setTemplate=function c(a,b){this.name=a;!b&&b!==null&&(b=lF(this.ractive,a,this.parentFragment));b||as(("Could not find template for partial '"+a+"'"));this.partialTemplate=b||[]};b.prototype.toString=function b(a){return this.fragment.toString(a)};b.prototype.unbind=function b(){a.prototype.unbind.call(this);this.fragment.unbind()};b.prototype.unrender=function b(a){this.fragment.unrender(a)};b.prototype.update=function a(){var b;this.dirty&&(this.dirty=!1,this.named||(this.model&&(b=this.model.get()),b&&typeof b==='string'&&b!==this.name?(this.setTemplate(b),this.fragment.resetTemplate(this.partialTemplate)):b&&typeof b==='object'&&(typeof b.template==='string'||ac(b.t))&&(b.template&&(b=lL(this.name,b.template,this.ractive)),this.setTemplate(this.name,b.t),this.fragment.resetTemplate(this.partialTemplate))),this.fragment.update())};return b}(lA);function lL(a,b,c){var d;try{d=hN.parse(b,hN.getParseOptions(c))}catch(b){ar(("Could not parse partial from expression '"+a+"'\n"+b.message))};return d||{t:[]}}var lM=function b(a){this.parent=a.owner.parentFragment;this.parentFragment=this;this.owner=a.owner;this.ractive=this.parent.ractive;this.cssIds='cssIds' in a?a.cssIds:(this.parent?this.parent.cssIds:null);this.context=null;this.rendered=!1;this.iterations=[];this.template=a.template;this.indexRef=a.indexRef;this.keyRef=a.keyRef;this.pendingNewIndices=null;this.previousIterations=null;this.isArray=!1};lM.prototype.bind=function b(a){var c=this;this.context=a;var d=a.get();if(this.isArray=ac(d)){this.iterations=[];for(var e=0;e<d.length;e+=1)c.iterations[e]=c.createIteration(e,e)}else if(af(d)){this.isArray=!1;if(this.indexRef){var f=this.indexRef.split(',');this.keyRef=f[0];this.indexRef=f[1]}this.iterations=Object.keys(d).map(function(a,b){return c.createIteration(a,b)})}return this};lM.prototype.bubble=function a(){this.owner.bubble()};lM.prototype.createIteration=function c(a,b){var d=new mg({owner:this,template:this.template});d.key=a;d.index=b;d.isIteration=!0;var e=this.context.joinKey(a);this.owner.template.z&&(d.aliases={},d.aliases[this.owner.template.z[0].n]=e);return d.bind(e)};lM.prototype.detach=function a(){var b=T();this.iterations.forEach(function(a){return b.appendChild(a.detach())});return b};lM.prototype.find=function b(a){var c=this,d=this.iterations.length,e;for(e=0;e<d;e+=1){var f=c.iterations[e].find(a);if(f)return f}};lM.prototype.findAll=function c(a,b){var d=this,e=this.iterations.length,f;for(f=0;f<e;f+=1)d.iterations[f].findAll(a,b)};lM.prototype.findComponent=function b(a){var c=this,d=this.iterations.length,e;for(e=0;e<d;e+=1){var f=c.iterations[e].findComponent(a);if(f)return f}};lM.prototype.findAllComponents=function c(a,b){var d=this,e=this.iterations.length,f;for(f=0;f<e;f+=1)d.iterations[f].findAllComponents(a,b)};lM.prototype.findNextNode=function b(a){var c=this;if(a.index<this.iterations.length-1){for(var d=a.index+1;d<c.iterations.length;d++){var e=c.iterations[d].firstNode(!0);if(e)return e}}return this.owner.findNextNode()};lM.prototype.firstNode=function b(a){return this.iterations[0]?this.iterations[0].firstNode(a):null};lM.prototype.rebind=function b(a){var c=this;this.context=a;this.iterations.forEach(function(b){var d=a.joinKey(b.key||b.index);c.owner.template.z&&(b.aliases={},b.aliases[c.owner.template.z[0].n]=d);b.rebind(d)})};lM.prototype.render=function c(a,b){this.iterations&&this.iterations.forEach(function(c){return c.render(a,b)});this.rendered=!0};lM.prototype.shuffle=function b(a){var c=this;this.pendingNewIndices||(this.previousIterations=this.iterations.slice());this.pendingNewIndices||(this.pendingNewIndices=[]);this.pendingNewIndices.push(a);var d=[];a.forEach(function(a,b){if(a===-1)return;var e=c.iterations[b];d[a]=e;a!==b&&e&&(e.dirty=!0)});this.iterations=d;this.bubble()};lM.prototype.toString=function b(a){return this.iterations?this.iterations.map(a?cd:cc).join(''):''};lM.prototype.unbind=function a(){this.iterations.forEach(b_);return this};lM.prototype.unrender=function b(a){this.iterations.forEach(a?ca:b$);this.pendingNewIndices&&this.previousIterations&&this.previousIterations.forEach(function(b){b.rendered&&(a?ca(b):b$(b))});this.rendered=!1};lM.prototype.update=function a(){var b=this;if(this.pendingNewIndices){this.updatePostShuffle();return}if(this.updating)return;this.updating=!0;var c=this.context.get(),d=this.isArray,e,f,g=!0,h;if(this.isArray=ac(c))d&&(g=!1,this.iterations.length>c.length&&(e=this.iterations.splice(c.length)));else if(af(c)&&!d){g=!1;e=[];f={};h=this.iterations.length;while(h--){var i=b.iterations[h];i.key in c?(f[i.key]=!0):(b.iterations.splice(h,1),e.push(i))}}g&&(e=this.iterations,this.iterations=[]);e&&e.forEach(function(a){a.unbind();a.unrender(!0)});this.iterations.forEach(cb);var j=ac(c)?c.length:af(c)?Object.keys(c).length:0,k,l;if(j>this.iterations.length){k=this.rendered?T():null;h=this.iterations.length;if(ac(c)){while(h<c.length){l=b.createIteration(h,h),b.iterations.push(l),b.rendered&&l.render(k),h+=1}}else if(af(c)){if(this.indexRef&&!this.keyRef){var m=this.indexRef.split(',');this.keyRef=m[0];this.indexRef=m[1]}Object.keys(c).forEach(function(a){(!f||!(a in f))&&(l=b.createIteration(a,h),b.iterations.push(l),b.rendered&&l.render(k),h+=1)})}if(this.rendered){var n=this.parent.findParentNode(),o=this.parent.findNextNode(this.owner);n.insertBefore(k,o)}}this.updating=!1};lM.prototype.updatePostShuffle=function a(){var b=this,c=this.pendingNewIndices[0];this.pendingNewIndices.slice(1).forEach(function(a){c.forEach(function(b,d){c[d]=a[b]})});var d=this.context.get().length,e,f=0,g=!1;c.forEach(function(a,c){var d=b.previousIterations[c];!g&&a!==-1&&(a<f&&(g=!0),a>f&&(f=a));if(a===-1)d.unbind().unrender(!0);else{d.index=a;var e=b.context.joinKey(a);b.owner.template.z&&(d.aliases={},d.aliases[b.owner.template.z[0].n]=e);d.rebind(e)}});var h=this.rendered?T():null,i=this.rendered?this.parent.findParentNode():null;if(g){for(e=0;e<d;e+=1){var j=b.iterations[e];b.rendered&&(j?h.appendChild(j.detach()):(b.iterations[e]=b.createIteration(e,e),b.iterations[e].render(h)));b.rendered||(j||(b.iterations[e]=b.createIteration(e,e)))}}else{for(e=0;e<d;e++){var k=b.iterations[e];b.rendered?(k&&h.childNodes.length&&i.insertBefore(h,k.firstNode()),k||(k=b.iterations[e]=b.createIteration(e,e),k.render(h))):k||(b.iterations[e]=b.createIteration(e,e))}}this.rendered&&h.childNodes.length&&i.insertBefore(h,this.owner.findNextNode());this.iterations.forEach(cb);this.pendingNewIndices=null};function lN(a){return!a||ac(a)&&a.length===0||af(a)&&Object.keys(a).length===0}function lO(a,b){if(b||ac(a))return ey;if(af(a)||typeof a==='function')return eA;if(a===undefined)return null;return ew}var lP=function(a){function b(b){a.call(this,b);this.sectionType=b.template.n||null;this.templateSectionType=this.sectionType;this.fragment=null}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function b(){a.prototype.bind.call(this);this.model?(this.dirty=!0,this.update()):this.sectionType&&this.sectionType===ex&&(this.fragment=new mg({owner:this,template:this.template.f}).bind())};b.prototype.detach=function a(){return this.fragment?this.fragment.detach():T()};b.prototype.find=function b(a){if(this.fragment){return this.fragment.find(a)}};b.prototype.findAll=function c(a,b){this.fragment&&this.fragment.findAll(a,b)};b.prototype.findComponent=function b(a){if(this.fragment){return this.fragment.findComponent(a)}};b.prototype.findAllComponents=function c(a,b){this.fragment&&this.fragment.findAllComponents(a,b)};b.prototype.firstNode=function b(a){return this.fragment&&this.fragment.firstNode(a)};b.prototype.rebind=function b(){a.prototype.rebind.call(this);this.fragment&&this.fragment.rebind(this.sectionType===ew||this.sectionType===ex?null:this.model)};b.prototype.render=function c(a,b){this.rendered=!0;this.fragment&&this.fragment.render(a,b)};b.prototype.shuffle=function b(a){this.fragment&&this.sectionType===ey&&this.fragment.shuffle(a)};b.prototype.toString=function b(a){return this.fragment?this.fragment.toString(a):''};b.prototype.unbind=function b(){a.prototype.unbind.call(this);this.fragment&&this.fragment.unbind()};b.prototype.unrender=function b(a){this.rendered&&this.fragment&&this.fragment.unrender(a);this.rendered=!1};b.prototype.update=function a(){if(!this.dirty)return;if(!this.model&&this.sectionType!==ex)return;this.dirty=!1;var b=!this.model?undefined:this.model.isRoot?this.model.value:this.model.get(),c=this.sectionType;(this.sectionType===null||this.templateSectionType===null)&&(this.sectionType=lO(b,this.template.i));c&&c!==this.sectionType&&this.fragment&&(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null);var d;if(this.sectionType===ey)this.fragment?this.fragment.update():(d=new lM({owner:this,template:this.template.f,indexRef:this.template.i}).bind(this.model));else if(this.sectionType===ez)this.fragment?this.fragment.update():(d=new mg({owner:this,template:this.template.f}).bind(this.model));else if(this.sectionType===eA)this.fragment?(lN(b)?(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null):this.fragment.update()):lN(b)||(d=new mg({owner:this,template:this.template.f}).bind(this.model));else{var e=this.sectionType===ex?lN(b):!!b&&!lN(b);this.fragment?(e?this.fragment.update():(this.rendered&&this.fragment.unbind().unrender(!0),this.fragment=null)):e&&(d=new mg({owner:this,template:this.template.f}).bind(null))}if(d){if(this.rendered){var f=this.parentFragment.findParentNode(),g=this.parentFragment.findNextNode(this);if(g){var h=T();d.render(h);g.parentNode.insertBefore(h,g)}else d.render(f)}this.fragment=d}};return b}(lA);function lQ(a,b){var c=a.length;while(c--){if(a[c]==b)return !0}}var lR=function(a){function b(b){a.call(this,b);this.options=[]}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.foundNode=function b(a){if(this.binding){var c=ld(a);c.length>0&&(this.selectedOptions=c)}};b.prototype.render=function d(b,c){a.prototype.render.call(this,b,c);this.sync();var e=this.node,f=e.options.length;while(f--)e.options[f].defaultSelected=e.options[f].selected;this.rendered=!0};b.prototype.sync=function a(){var b=this,c=this.node;if(!c)return;var d=aU(c.options);if(this.selectedOptions){d.forEach(function(a){b.selectedOptions.indexOf(a)>=0?(a.selected=!0):a.selected=!1});this.binding.setFromNode(c);delete this.selectedOptions;return}var e=this.getAttribute('value'),f=this.getAttribute('multiple');if(e!==undefined){var g;d.forEach(function(a){var b=a._ractive?a._ractive.value:a.value,c=f?lQ(e,b):e==b;c&&(g=!0);a.selected=c});!g&&!f&&(this.binding&&this.binding.forceUpdate())}else this.binding&&this.binding.forceUpdate()};b.prototype.update=function b(){a.prototype.update.call(this);this.sync()};return b}(lp),lS=function(a){function b(b){var c=b.template;c.a&&c.a.value&&lm({template:c.a.value})?(b.noContent=!0):c.f&&(!c.a||!c.a.value)&&lm({template:c.f})&&(c.a||(c.a={}),c.a.value=c.f,b.noContent=!0);a.call(this,b)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bubble=function a(){var b=this;this.dirty||(this.dirty=!0,this.rendered&&!this.binding&&this.fragment&&bh.scheduleTask(function(){b.dirty=!1;b.node.value=b.fragment.toString()}),this.parentFragment.bubble())};return b}(lC),lT=function(a){function b(b){a.call(this,b);this.type=dS}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){};b.prototype.detach=function a(){return V(this.node)};b.prototype.firstNode=function a(){return this.node};b.prototype.rebind=function a(){};b.prototype.render=function c(a,b){this.rendered=!0;if(b){var d=b[0];d&&d.nodeType===3?(b.shift(),d.nodeValue!==this.template&&(d.nodeValue=this.template)):(d=this.node=j.createTextNode(this.template),b[0]?a.insertBefore(d,b[0]):a.appendChild(d));this.node=d}else this.node=j.createTextNode(this.template),a.appendChild(this.node)};b.prototype.toString=function b(a){return a?go(this.template):this.template};b.prototype.unbind=function a(){};b.prototype.unrender=function b(a){this.rendered&&a&&this.detach();this.rendered=!1};b.prototype.update=function a(){};b.prototype.valueOf=function a(){return this.template};return b}(iw),lU={},lV,lW;try{K('table').innerHTML='foo'}catch(a){lV=!0,lW={TABLE:['<table class="x">','</table>'],THEAD:['<table><thead class="x">','</thead></table>'],TBODY:['<table><tbody class="x">','</tbody></table>'],TR:['<table><tr class="x">','</tr></table>'],SELECT:['<select class="x">','</select>']}};function lX(a,b,c){var d=[];if(a==null||a==='')return d;var e,f,g;lV&&(f=lW[b.tagName])?(e=lY('DIV'),e.innerHTML=f[0]+a+f[1],e=e.querySelector('.x'),e.tagName==='SELECT'&&(g=e.options[e.selectedIndex])):b.namespaceURI===F?(e=lY('DIV'),e.innerHTML='<svg class="x">'+a+'</svg>',e=e.querySelector('.x')):b.tagName==='TEXTAREA'?(e=K('div'),typeof e.textContent!=='undefined'?(e.textContent=a):(e.innerHTML=a)):(e=lY(b.tagName),e.innerHTML=a,e.tagName==='SELECT'&&(g=e.options[e.selectedIndex]));var h;while(h=e.firstChild){d.push(h),c.appendChild(h)}var i;if(b.tagName==='SELECT'){i=d.length;while(i--){d[i]!==g&&(d[i].selected=!1)}}return d}function lY(a){return lU[a]||(lU[a]=K(a))}var lZ=function(a){function b(b){a.call(this,b)}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.detach=function a(){var b=T();this.nodes.forEach(function(a){return b.appendChild(a)});return b};b.prototype.find=function b(a){var c=this,d=this.nodes.length,e;for(e=0;e<d;e+=1){var f=c.nodes[e];if(f.nodeType!==1)continue;if(L(f,a))return f;var g=f.querySelector(a);if(g)return g}return null};b.prototype.findAll=function c(a,b){var d=this,e=this.nodes.length,f;for(f=0;f<e;f+=1){var g=d.nodes[f];if(g.nodeType!==1)continue;b.test(g)&&b.add(g);var h=g.querySelectorAll(a);if(h){var i=h.length,j;for(j=0;j<i;j+=1)b.add(h[j])}}};b.prototype.findComponent=function a(){return null};b.prototype.firstNode=function a(){return this.nodes[0]};b.prototype.render=function b(a){var c=this.model?this.model.get():'';this.nodes=lX(c,this.parentFragment.findParentNode(),a);this.rendered=!0};b.prototype.toString=function a(){return this.model&&this.model.get()!=null?gj(''+this.model.get()):''};b.prototype.unrender=function a(){this.nodes&&this.nodes.forEach(function(a){return V(a)});this.rendered=!1};b.prototype.update=function a(){if(this.rendered&&this.dirty){this.dirty=!1;this.unrender();var b=T();this.render(b);var c=this.parentFragment.findParentNode(),d=this.parentFragment.findNextNode(this);c.insertBefore(b,d)}};return b}(lA),l_=function(a){function b(b){a.call(this,b);this.container=b.parentFragment.ractive;this.component=this.container.component;this.containerFragment=b.parentFragment;this.parentFragment=this.component.parentFragment;this.name=b.template.n||''}b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.bind=function a(){var b=this.name;(this.component.yielders[b]||(this.component.yielders[b]=[])).push(this);var c=this.container._inlinePartials[b||'content'];typeof c==='string'&&(c=hE(c).t);c||(ar(("Could not find template for partial \""+b+"\""),{ractive:this.ractive}),c=[]);this.fragment=new mg({owner:this,ractive:this.container.parent,template:c}).bind()};b.prototype.bubble=function a(){this.dirty||(this.containerFragment.bubble(),this.dirty=!0)};b.prototype.detach=function a(){return this.fragment.detach()};b.prototype.find=function b(a){return this.fragment.find(a)};b.prototype.findAll=function c(a,b){this.fragment.find(a,b)};b.prototype.findComponent=function b(a){return this.fragment.findComponent(a)};b.prototype.findAllComponents=function c(a,b){this.fragment.findAllComponents(a,b)};b.prototype.findNextNode=function a(){return this.containerFragment.findNextNode(this)};b.prototype.firstNode=function b(a){return this.fragment.firstNode(a)};b.prototype.rebind=function a(){this.fragment.rebind()};b.prototype.render=function c(a,b){return this.fragment.render(a,b)};b.prototype.setTemplate=function b(a){var c=this.parentFragment.ractive.partials[a];typeof c==='string'&&(c=hE(c).t);this.partialTemplate=c||[]};b.prototype.toString=function b(a){return this.fragment.toString(a)};b.prototype.unbind=function a(){this.fragment.unbind();aT(this.component.yielders[this.name],this)};b.prototype.unrender=function b(a){this.fragment.unrender(a)};b.prototype.update=function a(){this.dirty=!1;this.fragment.update()};return b}(iw);function l$(a,b){var c=ax('components',a,b),d;if(c){d=c.components[b];if(!d._Parent){var e=d.bind(c);e.isOwner=c.components.hasOwnProperty(b);d=e();if(!d){ar(au,b,'component','component',{ractive:a});return}typeof d==='string'&&(d=l$(a,d));d._fn=e;c.components[b]=d}}return d}var ma={};ma[ef]=iE;ma[ee]=jz;ma[dT]=lB;ma[dZ]=lK;ma[dV]=lP;ma[dU]=lZ;ma[ec]=l_;var mb={doctype:jz,form:lx,input:lC,option:lE,select:lR,textarea:lS};function mc(a){if(typeof a.template==='string'){return new lT( a )}if(a.template.t===dY){var b=l$(a.parentFragment.ractive,a.template.e);if(b){return new jy( a, b )}var c=a.template.e.toLowerCase(),d=mb[c]||lp;return new d( a )}var e=ma[a.template.t];if(!e)throw new Error( ("Unrecognised item type "+a.template.t) );return new e( a )}var md=function d(a,b,c){var e=this;this.fragment=a;this.reference=aG(b);this.callback=c;this.keys=aH(b);this.resolved=!1;while(a){a.context&&a.context.addUnresolved(e.keys[0],e),a=a.componentParent||a.parent}};md.prototype.attemptResolution=function a(){if(this.resolved)return;var b=bN(this.fragment,this.reference);b&&(this.resolved=!0,this.callback(b))};md.prototype.forceResolution=function a(){if(this.resolved)return;var b=this.fragment.findContext().joinAll(this.keys);this.callback(b);this.resolved=!0};md.prototype.unbind=function a(){aT(this.fragment.unresolved,this)};function me(a,b,c,d){d===void 0&&(d=0);return a.map(function(a){if(a.type===dS){return a.template}if(a.fragment){if(a.fragment.iterations){return a.fragment.iterations.map(function(a){return me(a.items,b,c,d)}).join('')}else{return me(a.fragment.items,b,c,d)}}var e=""+c+"-"+d++;b[e]=a.model?a.model.wrapper?a.model.wrapper.value:a.model.get():undefined;return'${'+e+'}'}).join('')}function mf(a){a.unrender(!0)}var mg=function b(a){this.owner=a.owner;this.isRoot=!a.owner.parentFragment;this.parent=this.isRoot?null:this.owner.parentFragment;this.ractive=a.ractive||(this.isRoot?a.owner:this.parent.ractive);this.componentParent=this.isRoot&&this.ractive.component?this.ractive.component.parentFragment:null;this.context=null;this.rendered=!1;this.cssIds='cssIds' in a?a.cssIds:(this.parent?this.parent.cssIds:null);this.resolvers=[];this.dirty=!1;this.dirtyArgs=this.dirtyValue=!0;this.template=a.template||[];this.createItems()};mg.prototype.bind=function b(a){this.context=a;this.items.forEach(bT);this.bound=!0;this.dirty&&this.update();return this};mg.prototype.bubble=function a(){this.dirtyArgs=this.dirtyValue=!0;this.dirty||(this.dirty=!0,this.isRoot?(this.ractive.component?this.ractive.component.bubble():this.bound&&bh.addFragment(this)):this.owner.bubble())};mg.prototype.createItems=function a(){var b=this;this.items=this.template.map(function(a,c){return mc({parentFragment:b,template:a,index:c})})};mg.prototype.detach=function a(){var b=T();this.items.forEach(function(a){return b.appendChild(a.detach())});return b};mg.prototype.find=function b(a){var c=this,d=this.items.length,e;for(e=0;e<d;e+=1){var f=c.items[e].find(a);if(f)return f}};mg.prototype.findAll=function c(a,b){var d=this;if(this.items){var e=this.items.length,f;for(f=0;f<e;f+=1){var g=d.items[f];g.findAll&&g.findAll(a,b)}}return b};mg.prototype.findComponent=function b(a){var c=this,d=this.items.length,e;for(e=0;e<d;e+=1){var f=c.items[e].findComponent(a);if(f)return f}};mg.prototype.findAllComponents=function c(a,b){var d=this;if(this.items){var e=this.items.length,f;for(f=0;f<e;f+=1){var g=d.items[f];g.findAllComponents&&g.findAllComponents(a,b)}}return b};mg.prototype.findContext=function a(){var b=this;while(!b.context)b=b.parent;return b.context};mg.prototype.findNextNode=function b(a){var c=this;for(var d=a.index+1;d<c.items.length;d++){if(!c.items[d])continue;var e=c.items[d].firstNode(!0);if(e)return e}if(this.isRoot){if(this.ractive.component){return this.ractive.component.parentFragment.findNextNode(this.ractive.component)}return null}return this.owner.findNextNode(this)};mg.prototype.findParentNode=function a(){var b=this;do {if(b.owner.type===dY){return b.owner.node}if(b.isRoot&&!b.ractive.component){return b.ractive.el}b.owner.type===ec?(b=b.owner.containerFragment):(b=b.componentParent||b.parent)}while(b);throw new Error( 'Could not find parent node' )};mg.prototype.findRepeatingFragment=function a(){var b=this;while(b.parent&&!b.isIteration)b=b.parent||b.componentParent;return b};mg.prototype.firstNode=function b(a){var c=this,d;for(var e=0;e<c.items.length;e++){d=c.items[e].firstNode(!0);if(d){return d}}if(a)return null;return this.parent.findNextNode(this.owner)};mg.prototype.getArgsList=function a(){if(this.dirtyArgs){var b={},c=me(this.items,b,this.ractive._guid),d=g_('['+c+']',b);this.argsList=d?d.value:[this.toString()];this.dirtyArgs=!1}return this.argsList};mg.prototype.rebind=function b(a){this.context=a;this.items.forEach(bY)};mg.prototype.render=function c(a,b){if(this.rendered)throw new Error( 'Fragment is already rendered!' );this.rendered=!0;this.items.forEach(function(c){return c.render(a,b)})};mg.prototype.resetTemplate=function b(a){var c=this.bound,d=this.rendered;c&&(d&&this.unrender(!0),this.unbind());this.template=a;this.createItems();if(c){this.bind(this.context);if(d){var e=this.findParentNode(),f=this.parent?this.parent.findNextNode(this.owner):null;if(f){var g=T();this.render(g);e.insertBefore(g,f)}else this.render(e)}}};mg.prototype.resolve=function c(a,b){if(!this.context){return this.parent.resolve(a,b)}var d=new md( this, a, b );this.resolvers.push(d);return d};mg.prototype.toHtml=function a(){return this.toString()};mg.prototype.toString=function b(a){return this.items.map(a?cd:cc).join('')};mg.prototype.unbind=function a(){this.items.forEach(b_);this.bound=!1;return this};mg.prototype.unrender=function b(a){this.items.forEach(a?mf:b$);this.rendered=!1};mg.prototype.update=function a(){this.dirty&&!this.updating&&(this.dirty=!1,this.updating=!0,this.items.forEach(cb),this.updating=!1)};mg.prototype.valueOf=function a(){if(this.items.length===1){return this.items[0].valueOf()}if(this.dirtyValue){var b={},c=me(this.items,b,this.ractive._guid),d=g_(c,b);this.value=d?d.value:this.toString();this.dirtyValue=!1}return this.value};function mh(a){hO.init(null,this,{template:a});var b=this.transitionsEnabled;this.transitionsEnabled=!1;var c=this.component;c&&(c.shouldDestroy=!0);this.unrender();c&&(c.shouldDestroy=!1);this.fragment.unbind().unrender(!0);this.fragment=new mg({template:this.template,root:this,owner:this});var d=T();this.fragment.bind(this.viewmodel).render(d);this.el.insertBefore(d,this.anchor);this.transitionsEnabled=b}var mi=cZ('reverse');function mj(a,b){var c=bh.start(this,!0);if(af(a)){var d=a;for(var e in d){d.hasOwnProperty(e)&&mk(this,e,d[e])}}else mk(this,a,b);bh.end();return c}function mk(a,b,c){typeof c==='function'&&(c=dB(c,a));if(/\*/.test(b))a.viewmodel.findMatches(aH(b)).forEach(function(a){a.set(c)});else{var d=a.viewmodel.joinAll(aH(b));d.set(c)}}var ml=cZ('shift'),mm=cZ('sort'),mn=cZ('splice');function mo(a,b){return aK(this,a,(b===undefined?-1:-b))}var mp=new aN( 'teardown' );function mq(){var a=this;this.fragment.unbind();this.viewmodel.teardown();this._observers.forEach(bU);this.fragment.rendered&&this.el.__ractive_instances__&&aT(this.el.__ractive_instances__,this);this.shouldDestroy=!0;var b=this.fragment.rendered?this.unrender():aZ.resolve();Object.keys(this._links).forEach(function(b){return a._links[b].unlink()});mp.fire(this);return b}function mr(a){if(typeof a!=='string'){throw new TypeError( at )}var b;if(/\*/.test(a)){b={};this.viewmodel.findMatches(aH(a)).forEach(function(a){b[a.getKeypath()]=!a.get()});return this.set(b)}return this.set(a,!this.get(a))}function ms(){var a=[this.cssId].concat(this.findAllComponents().map(function(a){return a.cssId})),b=Object.keys(a.reduce(function(a,b){return (a[b]=!0, a)},{}));return dh(b)}function mt(){return this.fragment.toString(!0)}function mu(a,b,c){b instanceof HTMLElement||af(b)&&(c=b);b=b||this.event.node;b||an(("No node was supplied for transition "+a));var d=new kP( this, b, a, c ),e=bh.start(this,!0);bh.registerTransition(d);bh.end();return e}function mv(a){var b=this._links[a];if(b){b.unlink();delete this._links[a];return this.set(a,b.intialValue)}else{return aZ.resolve(!0)}}var mw=new aN( 'unrender' );function mx(){if(!this.fragment.rendered){ar('ractive.unrender() was called on a Ractive instance that was not rendered');return aZ.resolve()}var a=bh.start(this,!0),b=!this.component||this.component.shouldDestroy||this.shouldDestroy;this.fragment.unrender(b);aT(this.el.__ractive_instances__,this);mw.fire(this);bh.end();return a}var my=cZ('unshift'),mz=new aN( 'update' );function mA(a){a&&(a=aH(a));var b=a?this.viewmodel.joinAll(a):this.viewmodel,c=bh.start(this,!0);b.mark();if(a){var d=b.parent;while(a.length&&d){d.clearUnresolveds&&d.clearUnresolveds(a.pop()),d=d.parent}}var e=b.parent;while(e){var f=e.deps.length;while(f--)e.deps[f].handleChange();e=e.parent}bh.end();mz.fire(this,b);return c}function mB(a,b){var c=bh.start(this,!0);a?this.viewmodel.joinAll(aH(a)).updateFromBindings(b!==!1):this.viewmodel.updateFromBindings(!0);bh.end();return c}var mC={add:aL,animate:bn,detach:bp,find:bq,findAll:bw,findAllComponents:bx,findComponent:by,findContainer:bz,findParent:bA,fire:bL,get:cy,insert:cA,link:cC,merge:cH,observe:cI,observeList:cM,observeOnce:cQ,off:cT,on:cU,once:cV,pop:c_,push:c$,render:dl,reset:is,resetPartial:iv,resetTemplate:mh,reverse:mi,set:mj,shift:ml,sort:mm,splice:mn,subtract:mo,teardown:mq,toggle:mr,toCSS:ms,toCss:ms,toHTML:mt,toHtml:mt,transition:mu,unlink:mv,unrender:mx,unshift:my,update:mA,updateModel:mB};function mD(a,b,c){if(c||mE(a,b)){return function(){var c='_super' in this,d=this._super,e;this._super=b;e=a.apply(this,arguments);c&&(this._super=d);return e}}else{return a}}function mE(a,b){return typeof b==='function'&&/_super/.test(a)}function mF(a){var b={};while(a){mG(a,b),mI(a,b),a._Parent!==mP?(a=a._Parent):(a=!1)}return b}function mG(a,b){hX.forEach(function(c){mH(c.useDefaults?a.prototype:a,b,c.name)})}function mH(a,b,c){var d,e=Object.keys(a[c]);if(!e.length){return}(d=b[c])||(d=b[c]={});e.filter(function(a){return!(a in d)}).forEach(function(b){return d[b]=a[c][b]})}function mI(a,b){Object.keys(a.prototype).forEach(function(c){if(c==='computed'){return}var d=a.prototype[c];if(!(c in b))b[c]=d._method?d._method:d;else if(typeof b[c]==='function'&&typeof d==='function'&&b[c]._method){var e,f=d._method;f&&(d=d._method);e=mD(b[c]._method,d);f&&(e._method=e);b[c]=e}})}function mJ(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];if(!a.length){return mK(this)}else{return a.reduce(mK,this)}}function mK(a,b){b===void 0&&(b={});var c,d;b.prototype instanceof mP&&(b=mF(b));c=function(a){if(!(this instanceof c))return new c( a );jd(this,a||{});jn(this,a||{},{})};d=X(a.prototype);d.constructor=c;Z(c,{defaults:{value:d},extend:{value:mJ,writable:!0,configurable:!0},_Parent:{value:a}});ii.extend(a,d,b);dD.extend(a,d,b);b.computed&&(d.computed=_(X(a.prototype.computed),b.computed));c.prototype=d;return c}function mL(a){if(!a||!a._ractive)return{};var b=a._ractive,c=b.fragment.ractive,d=jo(b.fragment),e=d.key,f=d.index,g=b.fragment.findContext();return{ractive:c,keypath:g.getKeypath(c),rootpath:g.getKeypath(),index:f,key:e}}function mM(){var a=[],b=arguments.length;while(b--)a[b]=arguments[b];return a.map(aF).join('.')}function mN(a){return aH(a).map(aI)}var mO='function';if(typeof Date.now!==mO||typeof String.prototype.trim!==mO||typeof Object.keys!==mO||typeof Array.prototype.indexOf!==mO||typeof Array.prototype.forEach!==mO||typeof Array.prototype.map!==mO||typeof Array.prototype.filter!==mO||i&&typeof i.addEventListener!==mO){throw new Error( 'It looks like you\'re attempting to use Ractive.js in an older browser. You\'ll need to use one of the \'legacy builds\' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.' )}function mP(a){if(!(this instanceof mP))return new mP( a );jd(this,a||{});jn(this,a||{},{})}_(mP.prototype,mC,g);mP.prototype.constructor=mP;mP.defaults=mP.prototype;Z(mP,{DEBUG:{writable:!0,value:!0},DEBUG_PROMISES:{writable:!0,value:!0},extend:{value:mJ},escapeKey:{value:aF},getNodeInfo:{value:mL},joinKeys:{value:mM},parse:{value:hE},splitKeypath:{value:mN},unescapeKey:{value:aI},getCSS:{value:dh},Promise:{value:aZ},enhance:{writable:!0,value:!1},svg:{value:w},magic:{value:u},VERSION:{value:'0.8.0-edge'},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:h},events:{writable:!0,value:{}},interpolators:{writable:!0,value:aA},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}});return mP})